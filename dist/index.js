import*as e from"../../../../../script.js";import*as t from"../../../../../lib.js";import*as n from"../../../../../lib/dialog-polyfill.esm.js";import*as r from"../../../../popup.js";import*as o from"../../../../utils.js";import*as i from"../../../../world-info.js";var a={566:(e,t)=>{var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n="undefined"!=typeof Buffer;function r(e){for(var n=-1,r=0,o=e.length-7;r<o;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<o+7;)n=n>>>8^t[255&(n^e[r++])];return~n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var o=-1,i=e.length-1,a=0;a<i;)o=t[255&(o^e.charCodeAt(a++))]^o>>>8,o=t[255&(o^e.charCodeAt(a++))]^o>>>8;return a===i&&(o=o>>>8^t[255&(o^e.charCodeAt(a))]),~o},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,o=0,i=e.length-3;o<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[o++])])>>>8^t[255&(n^e[o++])])>>>8^t[255&(n^e[o++])])>>>8^t[255&(n^e[o++])];for(;o<i+3;)n=n>>>8^t[255&(n^e[o++])];return~n},e.str=function(e){for(var n,r,o=-1,i=0,a=e.length;i<a;)(n=e.charCodeAt(i++))<128?o=o>>>8^t[255&(o^n)]:n<2048?o=(o=o>>>8^t[255&(o^(192|n>>6&31))])>>>8^t[255&(o^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(i++),o=(o=(o=(o=o>>>8^t[255&(o^(240|n>>8&7))])>>>8^t[255&(o^(128|n>>2&63))])>>>8^t[255&(o^(128|r>>6&15|3&n))])>>>8^t[255&(o^(128|63&r))]):o=(o=(o=o>>>8^t[255&(o^(224|n>>12&15))])>>>8^t[255&(o^(128|n>>6&63))])>>>8^t[255&(o^(128|63&n))];return~o}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},628:e=>{e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",o=0;o<e.length;o++){var i=e[o];if(t)i?r+=String.fromCharCode(i):t=!1;else{if(!i)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(i)}}return{keyword:r,text:n}}},524:e=>{e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,o=new Uint8Array(r),i=0,a=0;a<e.length;a++){if(!(n=e.charCodeAt(a)))throw new Error("0x00 character is not permitted in tEXt keywords");o[i++]=n}o[i++]=0;for(var u=0;u<t.length;u++){if(!(n=t.charCodeAt(u)))throw new Error("0x00 character is not permitted in tEXt content");o[i++]=n}return{name:"tEXt",data:o}}},960:(e,t,n)=>{t.encode=n(524),t.decode=n(628)},642:(e,t,n)=>{var r=n(635),o=n(566);e.exports=function(e){var t,n=8,l=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var c=new Uint8Array(n);for(c[0]=137,c[1]=80,c[2]=78,c[3]=71,c[4]=13,c[5]=10,c[6]=26,c[7]=10,t=0;t<e.length;t++){var s=e[t],f=s.name,p=s.data,d=p.length,h=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)];u[0]=d,c[l++]=i[3],c[l++]=i[2],c[l++]=i[1],c[l++]=i[0],c[l++]=h[0],c[l++]=h[1],c[l++]=h[2],c[l++]=h[3];for(var v=0;v<d;)c[l++]=p[v++];var y=h.concat(r(p)),m=o.buf(y);a[0]=m,c[l++]=i[3],c[l++]=i[2],c[l++]=i[1],c[l++]=i[0]}return c};var i=new Uint8Array(4),a=new Int32Array(i.buffer),u=new Uint32Array(i.buffer)},29:(e,t,n)=>{var r=n(566);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var t=!1,n=[],u=8;for(;u<e.length;){o[3]=e[u++],o[2]=e[u++],o[1]=e[u++],o[0]=e[u++];var l=a[0]+4,c=new Uint8Array(l);c[0]=e[u++],c[1]=e[u++],c[2]=e[u++],c[3]=e[u++];var s=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]);if(!n.length&&"IHDR"!==s)throw new Error("IHDR header missing");if("IEND"===s){t=!0,n.push({name:s,data:new Uint8Array(0)});break}for(var f=4;f<l;f++)c[f]=e[u++];o[3]=e[u++],o[2]=e[u++],o[1]=e[u++],o[0]=e[u++];var p=i[0];if(r.buf(c)!==p)throw new Error("CRC values for "+s+" header do not match, PNG file is likely corrupted");var d=new Uint8Array(c.buffer.slice(4));n.push({name:s,data:d})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var o=new Uint8Array(4),i=new Int32Array(o.buffer),a=new Uint32Array(o.buffer)},551:(e,t,n)=>{
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function v(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=y.hasOwnProperty(t)?y[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(h,e)||!f.call(d,e)&&(p.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R,F=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var D=!1;function U(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||o[a]!==i[u]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=u);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,se,fe=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function _e(e){if(e=wo(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function je(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ee)&&(je(),Ie())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Te=!1;if(s)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(se){Te=!1}function Me(e,t,n,r,o,i,a,u,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Re=!1,Fe=null,ze=!1,De=null,Ue={onError:function(e){Re=!0,Fe=e}};function Be(e,t,n,r,o,i,a,u,l){Re=!1,Fe=null,Me.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(i(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ve(o),e;if(a===r)return Ve(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,l=o.child;l;){if(l===n){u=!0,n=o,r=a;break}if(l===r){u=!0,r=o,n=a;break}l=l.sibling}if(!u){for(l=a.child;l;){if(l===n){u=!0,n=a,r=o;break}if(l===r){u=!0,r=a,n=o;break}l=l.sibling}if(!u)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/lt|0)|0},ut=Math.log,lt=Math.LN2;var ct=64,st=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~o;0!==u?r=ft(u):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,St,kt,Et,_t,Ct=!1,It=[],Nt=null,jt=null,Pt=null,Ot=new Map,Lt=new Map,Tt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=bo(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){zt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==jt&&zt(jt)&&(jt=null),null!==Pt&&zt(Pt)&&(Pt=null),Ot.forEach(Dt),Lt.forEach(Dt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==jt&&Bt(jt,e),null!==Pt&&Bt(Pt,e),Ot.forEach(t),Lt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Tt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function $t(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Wt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Gt(e,t,n,r){if(Vt){var o=Yt(e,t,n,r);if(null===o)Vr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Nt=Rt(Nt,e,t,n,r,o),!0;case"dragenter":return jt=Rt(jt,e,t,n,r,o),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,Rt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lt.set(i,Rt(Lt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=bo(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,un,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=on(cn),fn=F({},cn,{view:0,detail:0}),pn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),hn=on(dn),vn=on(F({},dn,{dataTransfer:0})),yn=on(F({},fn,{relatedTarget:0})),mn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),wn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return En}var Cn=F({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),Nn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(On),Tn=[9,13,27,32],An=s&&"CompositionEvent"in window,Mn=null;s&&"documentMode"in document&&(Mn=document.documentMode);var Rn=s&&"TextEvent"in window&&!Mn,Fn=s&&(!An||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),Dn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){zr(e,0)}function Yn(e){if(G(xo(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(s){var Jn;if(s){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];$n(t,Gn,e,xe(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!ur(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=sr(n,i);var a=sr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=s&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}s&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=_r("animationend"),Ir=_r("animationiteration"),Nr=_r("animationstart"),jr=_r("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Pr.set(e,t),l(t,[e])}for(var Tr=0;Tr<Or.length;Tr++){var Ar=Or[Tr];Lr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(Ir,"onAnimationIteration"),Lr(Nr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,u,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(i(198));var s=Fe;Re=!1,Fe=null,ze||(ze=!0,De=s)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==i&&o.isPropagationStopped())break e;Fr(o,u,c),i=l}else for(a=0;a<r.length;a++){if(l=(u=r[a]).instance,c=u.currentTarget,u=u.listener,l!==i&&o.isPropagationStopped())break e;Fr(o,u,c),i=l}}}if(ze)throw e=De,ze=!1,De=null,e}function Dr(e,t){var n=t[yo];void 0===n&&(n=t[yo]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var o=$t;break;case 4:o=Wt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===o||8===u.nodeType&&u.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==u;){if(null===(a=bo(u)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=i,o=xe(n),a=[];e:{var u=Pr.get(e);if(void 0!==u){var l=sn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Ir:case Nr:l=mn;break;case jr:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var s=!!(4&t),f=!s&&"scroll"===e,p=s?null!==u?u+"Capture":null:u;s=[];for(var d,h=r;null!==h;){var v=(d=h).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==p&&(null!=(v=Le(h,p))&&s.push($r(h,v,d)))),f)break;h=h.return}0<s.length&&(u=new l(u,c,null,n,o),a.push({event:u,listeners:s}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[vo])&&(l||u)&&(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(s=hn,v="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(s=Nn,v="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==l?u:xo(l),d=null==c?u:xo(c),(u=new s(v,h+"leave",l,n,o)).target=f,u.relatedTarget=d,v=null,bo(o)===r&&((s=new s(p,h+"enter",c,n,o)).target=d,s.relatedTarget=f,v=s),f=v,l&&c)e:{for(p=c,h=0,d=s=l;d;d=Gr(d))h++;for(d=0,v=p;v;v=Gr(v))d++;for(;0<h-d;)s=Gr(s),h--;for(;0<d-h;)p=Gr(p),d--;for(;h--;){if(s===p||null!==p&&s===p.alternate)break e;s=Gr(s),p=Gr(p)}s=null}else s=null;null!==l&&Qr(a,u,l,s,!1),null!==c&&null!==f&&Qr(a,f,c,s,!0)}if("select"===(l=(u=r?xo(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===l&&"file"===u.type)var y=Kn;else if(Vn(u))if(Xn)y=ar;else{y=or;var m=rr}else(l=u.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ir);switch(y&&(y=y(e,r))?$n(a,y,n,o):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?xo(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,o)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,qn=!0)),0<(m=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Dn=!0,zn);case"textInput":return(e=t.data)===zn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=g))}zr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Le(e,n))&&r.unshift($r(e,i,o)),null!=(i=Le(e,t))&&r.push($r(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(null!==l&&l===r)break;5===u.tag&&null!==c&&(u=c,o?null!=(l=Le(n,i))&&a.unshift($r(n,l,u)):o||null!=(l=Le(n,i))&&a.push($r(n,l,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(uo)}:ro;function uo(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);qt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function so(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,vo="__reactContainer$"+fo,yo="__reactEvents$"+fo,mo="__reactListeners$"+fo,go="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=so(e);null!==e;){if(n=e[po])return n;e=so(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var ko=[],Eo=-1;function _o(e){return{current:e}}function Co(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function Io(e,t){Eo++,ko[Eo]=e.current,e.current=t}var No={},jo=_o(No),Po=_o(!1),Oo=No;function Lo(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function To(e){return null!=(e=e.childContextTypes)}function Ao(){Co(Po),Co(jo)}function Mo(e,t,n){if(jo.current!==No)throw Error(i(168));Io(jo,t),Io(Po,n)}function Ro(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Oo=jo.current,Io(jo,e),Io(Po,Po.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ro(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,Co(Po),Co(jo),Io(jo,e)):Co(Po),Io(Po,n)}var Do=null,Uo=!1,Bo=!1;function qo(e){null===Do?Do=[e]:Do.push(e)}function Ho(){if(!Bo&&null!==Do){Bo=!0;var e=0,t=bt;try{var n=Do;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Do=null,Uo=!1}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Ge(Ze,Ho),t}finally{bt=t,Bo=!1}}return null}var Vo=[],$o=0,Wo=null,Go=0,Qo=[],Yo=0,Ko=null,Xo=1,Jo="";function Zo(e,t){Vo[$o++]=Go,Vo[$o++]=Wo,Wo=e,Go=t}function ei(e,t,n){Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=Ko,Ko=e;var r=Xo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Xo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Vo[--$o],Vo[$o]=null,Go=Vo[--$o],Vo[$o]=null;for(;e===Ko;)Ko=Qo[--Yo],Qo[Yo]=null,Jo=Qo[--Yo],Qo[Yo]=null,Xo=Qo[--Yo],Qo[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function ui(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ko?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function si(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ui(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw di(),Error(i(418));for(;t;)ui(e,t),t=co(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function di(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function vi(e){null===ai?ai=[e]:ai.push(e)}var yi=w.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===L&&bi(i)===t.type)?((r=o(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case L:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?s(e,t,n,r):null;case L:return d(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:f(e,t,n,r,null);gi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return s(t,e=e.get(null===r.key?n:r.key)||null,r,o);case L:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,o,null);gi(t,r)}return null}function v(o,i,u,l){for(var c=null,s=null,f=i,v=i=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(o,f,u[v],l);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(o,f),i=a(m,i,v),null===s?c=m:s.sibling=m,s=m,f=y}if(v===u.length)return n(o,f),ii&&Zo(o,v),c;if(null===f){for(;v<u.length;v++)null!==(f=p(o,u[v],l))&&(i=a(f,i,v),null===s?c=f:s.sibling=f,s=f);return ii&&Zo(o,v),c}for(f=r(o,f);v<u.length;v++)null!==(y=h(f,o,v,u[v],l))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),i=a(y,i,v),null===s?c=y:s.sibling=y,s=y);return e&&f.forEach((function(e){return t(o,e)})),ii&&Zo(o,v),c}function y(o,u,l,c){var s=M(l);if("function"!=typeof s)throw Error(i(150));if(null==(l=s.call(l)))throw Error(i(151));for(var f=s=null,v=u,y=u=0,m=null,g=l.next();null!==v&&!g.done;y++,g=l.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(o,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(o,v),u=a(b,u,y),null===f?s=b:f.sibling=b,f=b,v=m}if(g.done)return n(o,v),ii&&Zo(o,y),s;if(null===v){for(;!g.done;y++,g=l.next())null!==(g=p(o,g.value,c))&&(u=a(g,u,y),null===f?s=g:f.sibling=g,f=g);return ii&&Zo(o,y),s}for(v=r(o,v);!g.done;y++,g=l.next())null!==(g=h(v,o,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?s=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(o,e)})),ii&&Zo(o,y),s}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,s=i;null!==s;){if(s.key===c){if((c=a.type)===k){if(7===s.tag){n(r,s.sibling),(i=o(s,a.props.children)).return=r,r=i;break e}}else if(s.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===L&&bi(c)===s.type){n(r,s.sibling),(i=o(s,a.props)).ref=mi(r,s,a),i.return=r,r=i;break e}n(r,s);break}t(r,s),s=s.sibling}a.type===k?((i=Mc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Ac(a.type,a.key,a.props,null,r.mode,l)).ref=mi(r,i,a),l.return=r,r=l)}return u(r);case S:e:{for(s=a.key;null!==i;){if(i.key===s){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(a,r.mode,l)).return=r,r=i}return u(r);case L:return e(r,i,(s=a._init)(a._payload),l)}if(te(a))return v(r,i,a,l);if(M(a))return y(r,i,a,l);gi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fc(a,r.mode,l)).return=r,r=i),u(r)):n(r,i)}}var xi=wi(!0),Si=wi(!1),ki=_o(null),Ei=null,_i=null,Ci=null;function Ii(){Ci=_i=Ei=null}function Ni(e){var t=ki.current;Co(ki),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ei=e,Ci=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Ei)throw Error(i(308));_i=e,Ei.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Li=null;function Ti(e){null===Li?Li=[e]:Li.push(e)}function Ai(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ti(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Nl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ti(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mi(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function qi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var o=e.updateQueue;Ri=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var s=e.alternate;null!==s&&((u=(s=s.updateQueue).lastBaseUpdate)!==a&&(null===u?s.firstBaseUpdate=c:u.next=c,s.lastBaseUpdate=l))}if(null!==i){var f=o.baseState;for(a=0,s=c=l=null,u=i;;){var p=u.lane,d=u.eventTime;if((r&p)===p){null!==s&&(s=s.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,v=u;switch(p=t,d=n,v.tag){case 1:if("function"==typeof(h=v.payload)){f=h.call(d,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=v.payload)?h.call(d,f,p):h))break e;f=F({},f,p);break e;case 2:Ri=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[u]:p.push(u))}else d={eventTime:d,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===s?(c=s=d,l=f):s=s.next=d,a|=p;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(p=u).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===s&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=s,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=f}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var $i={},Wi=_o($i),Gi=_o($i),Qi=_o($i);function Yi(e){if(e===$i)throw Error(i(174));return e}function Ki(e,t){switch(Io(Qi,t),Io(Gi,e),Io(Wi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Wi),Io(Wi,t)}function Xi(){Co(Wi),Co(Gi),Co(Qi)}function Ji(e){Yi(Qi.current);var t=Yi(Wi.current),n=le(t,e.type);t!==n&&(Io(Gi,e),Io(Wi,n))}function Zi(e){Gi.current===e&&(Co(Wi),Co(Gi))}var ea=_o(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,ua=null,la=null,ca=null,sa=!1,fa=!1,pa=0,da=0;function ha(){throw Error(i(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,o,a){if(aa=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:eu,e=n(r,o),fa){a=0;do{if(fa=!1,pa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=tu,e=n(r,o)}while(fa)}if(oa.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=ua=null,sa=!1,t)throw Error(i(300));return e}function ma(){var e=0!==pa;return pa=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?ua.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?ua.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?ua.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=u=null,c=null,s=a;do{var f=s.lane;if((aa&f)===f)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var p={lane:f,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(l=c=p,u=r):c=c.next=p,ua.lanes|=f,Rl|=f}s=s.next}while(null!==s&&s!==a);null===c?u=r:c.next=l,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ua.lanes|=a,Rl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var u=o=o.next;do{a=e(a,u.action),u=u.next}while(u!==o);ur(a,t.memoizedState)||(bu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=ua,r=ba(),o=t(),a=!ur(r.memoizedState,o);if(a&&(r.memoizedState=o,bu=!0),r=r.queue,Ra(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Oa(9,Ca.bind(null,n,r,o,t),void 0,null),null===jl)throw Error(i(349));30&aa||_a(n,t,o)}return o}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&ja(e)}function Ia(e,t,n){return n((function(){Na(t)&&ja(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(e){return!0}}function ja(e){var t=Mi(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,ua,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return ba().memoizedState}function Ta(e,t,n,r){var o=ga();ua.flags|=e,o.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Aa(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&va(r,a.deps))return void(o.memoizedState=Oa(t,n,i,r))}ua.flags|=e,o.memoizedState=Oa(1|t,n,i,r)}function Ma(e,t){return Ta(8390656,8,e,t)}function Ra(e,t){return Aa(2048,8,e,t)}function Fa(e,t){return Aa(4,2,e,t)}function za(e,t){return Aa(4,4,e,t)}function Da(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4,4,Da.bind(null,t,e),n)}function Ba(){}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 21&aa?(ur(n,t)||(n=vt(),ua.lanes|=n,Rl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,n);else if(null!==(n=Ai(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Qa(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=i(a,n);if(o.hasEagerState=!0,o.eagerState=u,ur(u,a)){var l=t.interleaved;return null===l?(o.next=o,Ti(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ai(e,t,o,r))&&(nc(n,e,r,o=ec()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Ka(e,t){fa=sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Ja={readContext:Oi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Oi,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ta(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:Pa,useDebugValue:Ba,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=$a.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,o=ga();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jl)throw Error(i(349));30&aa||_a(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ma(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=jl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-at(Xo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Oi,useCallback:qa,useContext:Oi,useEffect:Ra,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Ha,useReducer:xa,useRef:La,useState:function(){return xa(wa)},useDebugValue:Ba,useDeferredValue:function(e){return Va(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},tu={readContext:Oi,useCallback:qa,useContext:Oi,useEffect:Ra,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Ha,useReducer:Sa,useRef:La,useState:function(){return Sa(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function nu(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ru(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ou={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Di(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Di(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Di(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function iu(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function au(e,t,n){var r=!1,o=No,i=t.contextType;return"object"==typeof i&&null!==i?i=Oi(i):(o=To(t)?Oo:jo.current,i=(r=null!=(r=t.contextTypes))?Lo(e,o):No),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function uu(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function lu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Oi(i):(i=To(t)?Oo:jo.current,o.context=Lo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ru(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ou.enqueueReplaceState(o,o.state,null),Hi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function su(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fu(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pu="function"==typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,$l=r),fu(0,t)},n}function hu(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fu(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){fu(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e)}var gu=w.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Si(t,null,n,r):xi(t,e.child,n,r)}function xu(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=ya(e,t,n,r,i,o),n=ma(),null===e||bu?(ii&&n&&ti(t),t.flags|=1,wu(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vu(e,t,o))}function Su(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Lc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ku(e,t,i,r,o))}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vu(e,t,o)}return t.flags|=1,(e=Tc(i,r)).ref=t.ref,e.return=t,t.child=e}function ku(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=i,!(e.lanes&o))return t.lanes=e.lanes,Vu(e,t,o);131072&e.flags&&(bu=!0)}}return Cu(e,t,n,r,o)}function Eu(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Tl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Io(Tl,Ll),Ll|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Tl,Ll),Ll|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Io(Tl,Ll),Ll|=r;return wu(e,t,o,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,o){var i=To(n)?Oo:jo.current;return i=Lo(t,i),Pi(t,o),n=ya(e,t,n,r,i,o),r=ma(),null===e||bu?(ii&&r&&ti(t),t.flags|=1,wu(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vu(e,t,o))}function Iu(e,t,n,r,o){if(To(n)){var i=!0;Fo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Hu(e,t),au(t,n,r),lu(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Oi(c):c=Lo(t,c=To(n)?Oo:jo.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||l!==c)&&uu(t,a,r,c),Ri=!1;var p=t.memoizedState;a.state=p,Hi(t,r,a,o),l=t.memoizedState,u!==r||p!==l||Po.current||Ri?("function"==typeof s&&(ru(t,n,s,r),l=t.memoizedState),(u=Ri||iu(t,n,u,r,p,l,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=u):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zi(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:nu(t.type,u),a.props=c,f=t.pendingProps,p=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Oi(l):l=Lo(t,l=To(n)?Oo:jo.current);var d=n.getDerivedStateFromProps;(s="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==f||p!==l)&&uu(t,a,r,l),Ri=!1,p=t.memoizedState,a.state=p,Hi(t,r,a,o);var h=t.memoizedState;u!==f||p!==h||Po.current||Ri?("function"==typeof d&&(ru(t,n,d,r),h=t.memoizedState),(c=Ri||iu(t,n,c,r,p,h,l)||!1)?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,i,o)}function Nu(e,t,n,r,o,i){_u(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&zo(t,n,!1),Vu(e,t,i);r=t.stateNode,gu.current=t;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,u,i)):wu(e,t,u,i),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function ju(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),Ki(e,t.containerInfo)}function Pu(e,t,n,r,o){return hi(),vi(o),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Lu,Tu,Au,Mu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,o=t.pendingProps,a=ea.current,u=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Io(ea,1&a),null===e)return si(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,u?(o=t.mode,u=t.child,l={mode:"hidden",children:l},1&o||null===u?u=Rc(l,o,0,null):(u.childLanes=0,u.pendingProps=l),e=Mc(e,o,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Mu,e):zu(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,u){if(n)return 256&t.flags?(t.flags&=-257,Du(e,t,u,r=su(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Rc({mode:"visible",children:r.children},o,0,null),(a=Mc(a,o,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xi(t,e.child,null,u),t.child.memoizedState=Ru(u),t.memoizedState=Mu,a);if(!(1&t.mode))return Du(e,t,u,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Du(e,t,u,r=su(a=Error(i(419)),r,void 0))}if(l=!!(u&e.childLanes),bu||l){if(null!==(r=jl)){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|u)?0:o)&&o!==a.retryLane&&(a.retryLane=o,Mi(e,o),nc(r,e,o,-1))}return vc(),Du(e,t,u,r=su(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=Ko,Xo=e.id,Jo=e.overflow,Ko=t),t=zu(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(u){u=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Tc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?u=Tc(r,u):(u=Mc(u,l,n,null)).flags|=2,u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,l=null===(l=e.child.memoizedState)?Ru(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},u.memoizedState=l,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,o}return e=(u=e.child).sibling,o=Tc(u,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function zu(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){return null!==r&&vi(r),xi(t,e.child,null,n),(e=zu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Bu(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function qu(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wu(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Io(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bu(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bu(t,!0,n,null,i);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hu(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $u(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return To(t.type)&&Ao(),Wu(t),null;case 3:return r=t.stateNode,Xi(),Co(Po),Co(jo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Lu(e,t),Wu(t),null;case 5:Zi(t);var o=Yi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Tu(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wu(t),null}if(e=Yi(Wi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Dr(Mr[o],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":K(r,a),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",r);break;case"textarea":oe(r,a),Dr("invalid",r)}for(var l in ge(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):u.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Dr(Mr[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":K(e,r),o=Y(e,r),Dr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Dr("invalid",e)}for(a in ge(n,o),c=o)if(c.hasOwnProperty(a)){var s=c[a];"style"===a?ye(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&fe(e,s):"children"===a?"string"==typeof s?("textarea"!==n||""!==s)&&pe(e,s):"number"==typeof s&&pe(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=s&&"onScroll"===a&&Dr("scroll",e):null!=s&&b(e,a,s,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Au(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Qi.current),Yi(Wi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Wu(t),null;case 13:if(Co(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))di(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Al&&(Al=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return Xi(),Lu(e,t),null===e&&qr(t.stateNode.containerInfo),Wu(t),null;case 10:return Ni(t.type._context),Wu(t),null;case 19:if(Co(ea),null===(a=t.memoizedState))return Wu(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)$u(a,!1);else{if(0!==Al||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$u(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,$u(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$u(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Wu(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,$u(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Io(ea,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ll)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qu(e,t){switch(ni(t),t.tag){case 1:return To(t.type)&&Ao(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Co(Po),Co(jo),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Co(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ea),null;case 4:return Xi(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lu=function(){},Tu=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Wi.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(s in ge(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s){var l=o[s];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?a||(a=[]):(a=a||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(s,c)):"children"===s?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(u.hasOwnProperty(s)?(null!=c&&"onScroll"===s&&Dr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(s,c))}n&&(a=a||[]).push("style",n);var s=a;(t.updateQueue=s)&&(t.flags|=4)}},Au=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ku=!1,Xu="function"==typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[yo],delete t[mo],delete t[go])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ul(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var sl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ku||Zu(n,t);case 6:var r=sl,o=fl;sl=null,pl(e,t,n),fl=o,null!==(sl=r)&&(fl?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(fl?(e=sl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),qt(e)):lo(sl,n.stateNode));break;case 4:r=sl,o=fl,sl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),sl=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Ku&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Ku&&(Zu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ku=(r=Ku)||null!==n.memoizedState,pl(e,t,n),Ku=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,l=u;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,fl=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===sl)throw Error(i(160));dl(a,u,o),sl=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:vl(t,e),ml(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vl(t,e),ml(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(o,a),be(l,u);var s=be(l,a);for(u=0;u<c.length;u+=2){var f=c[u],p=c[u+1];"style"===f?ye(o,p):"dangerouslySetInnerHTML"===f?fe(o,p):"children"===f?pe(o,p):b(o,f,p,s)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(vl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(vl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:vl(t,e),ml(e);break;case 13:vl(t,e),ml(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Xe())),4&r&&hl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ku=(s=Ku)||f,vl(t,e),Ku=s):vl(t,e),ml(e),8192&r){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!f&&1&e.mode)for(Ju=e,f=e.child;null!==f;){for(p=Ju=f;null!==Ju;){switch(h=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"==typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){xl(p);continue}}null!==h?(h.return=d,Ju=h):xl(p)}f=f.sibling}e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{o=p.stateNode,s?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,u=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ve("display",u))}catch(t){Ec(e,e.return,t)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vl(t,e),ml(e),4&r&&hl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,ul(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ul(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Ju=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Ju;){var o=Ju,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Yu;if(!a){var u=o.alternate,l=null!==u&&null!==u.memoizedState||Ku;u=Yu;var c=Ku;if(Yu=a,(Ku=l)&&!c)for(Ju=o;null!==Ju;)l=(a=Ju).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Ju=l):Sl(o);for(;null!==i;)Ju=i,bl(i,t,n),i=i.sibling;Ju=o,Yu=u,Ku=c}wl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Ju=i):wl(e)}}function wl(e){for(;null!==Ju;){var t=Ju;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ku||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ku)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:nu(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vi(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,u,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var f=s.memoizedState;if(null!==f){var p=f.dehydrated;null!==p&&qt(p)}}}break;default:throw Error(i(163))}Ku||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xl(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function Sl(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var kl,El=Math.ceil,_l=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Nl=0,jl=null,Pl=null,Ol=0,Ll=0,Tl=_o(0),Al=0,Ml=null,Rl=0,Fl=0,zl=0,Dl=null,Ul=null,Bl=0,ql=1/0,Hl=null,Vl=!1,$l=null,Wl=null,Gl=!1,Ql=null,Yl=0,Kl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 6&Nl?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 1&e.mode?2&Nl&&0!==Ol?Ol&-Ol:null!==yi.transition?(0===Zl&&(Zl=vt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Xl=null,Error(i(185));mt(e,n,r),2&Nl&&e===jl||(e===jl&&(!(2&Nl)&&(Fl|=n),4===Al&&uc(e,Ol)),rc(e,r),1===n&&0===Nl&&!(1&t.mode)&&(ql=Xe()+500,Uo&&Ho()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),u=1<<a,l=o[a];-1===l?u&n&&!(u&r)||(o[a]=dt(u,t)):l<=t&&(e.expiredLanes|=u),i&=~u}}(e,t);var r=pt(e,e===jl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Uo=!0,qo(e)}(lc.bind(null,e)):qo(lc.bind(null,e)),ao((function(){!(6&Nl)&&Ho()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,6&Nl)throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pt(e,e===jl?Ol:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=yc(e,r);else{t=r;var o=Nl;Nl|=2;var a=hc();for(jl===e&&Ol===t||(Hl=null,ql=Xe()+500,pc(e,t));;)try{gc();break}catch(t){dc(e,t)}Ii(),_l.current=a,Nl=o,null!==Pl?t=0:(jl=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ml,pc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ur(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=yc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Ml,pc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Ul,Hl);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Ul,Hl),t);break}xc(e,Ul,Hl);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-at(r);a=1<<u,(u=t[u])>o&&(o=u),r&=~a}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Ul,Hl),r);break}xc(e,Ul,Hl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function uc(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Nl)throw Error(i(327));Sc();var t=pt(e,0);if(!(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,pc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Hl),rc(e,Xe()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Xe()+500,Uo&&Ho())}}function sc(e){null!==Ql&&0===Ql.tag&&!(6&Nl)&&Sc();var t=Nl;Nl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,!(6&(Nl=t))&&Ho()}}function fc(){Ll=Tl.current,Co(Tl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ao();break;case 3:Xi(),Co(Po),Co(jo),ra();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:Co(ea);break;case 10:Ni(r.type._context);break;case 22:case 23:fc()}n=n.return}if(jl=e,Pl=e=Tc(e.current,null),Ol=Ll=t,Al=0,Ml=null,zl=Fl=Rl=0,Ul=Dl=null,null!==Li){for(t=0;t<Li.length;t++)if(null!==(r=(n=Li[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Li=null}return e}function dc(e,t){for(;;){var n=Pl;try{if(Ii(),oa.current=Ja,sa){for(var r=ua.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}sa=!1}if(aa=0,ca=la=ua=null,fa=!1,pa=0,Cl.current=null,null===n||null===n.return){Al=1,Ml=t,Pl=null;break}e:{var a=e,u=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var s=c,f=l,p=f.tag;if(!(1&f.mode||0!==p&&11!==p&&15!==p)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=yu(u);if(null!==h){h.flags&=-257,mu(h,u,l,0,t),1&h.mode&&vu(a,s,t),c=s;var v=(t=h).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(!(1&t)){vu(a,s,t),vc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var m=yu(u);if(null!==m){!(65536&m.flags)&&(m.flags|=256),mu(m,u,l,0,t),vi(cu(c,l));break e}}a=c=cu(c,l),4!==Al&&(Al=2),null===Dl?Dl=[a]:Dl.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qi(a,du(0,c,t));break e;case 1:l=c;var g=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof g.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wl&&Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,qi(a,hu(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=_l.current;return _l.current=Ja,null===e?Ja:e}function vc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===jl||!(268435455&Rl)&&!(268435455&Fl)||uc(jl,Ol)}function yc(e,t){var n=Nl;Nl|=2;var r=hc();for(jl===e&&Ol===t||(Hl=null,pc(e,t));;)try{mc();break}catch(t){dc(e,t)}if(Ii(),Nl=n,_l.current=r,null!==Pl)throw Error(i(261));return jl=null,Ol=0,Al}function mc(){for(;null!==Pl;)bc(Pl)}function gc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gu(n,t,Ll)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function xc(e,t,n){var r=bt,o=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(6&Nl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===jl&&(Pl=jl=null,Ol=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gl||(Gl=!0,jc(tt,(function(){return Sc(),null}))),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var u=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(eo=Vt,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var u=0,l=-1,c=-1,s=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=u+o),p!==a||0!==r&&3!==p.nodeType||(c=u+r),3===p.nodeType&&(u+=p.nodeValue.length),null!==(h=p.firstChild);)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++s===o&&(l=u),d===a&&++f===r&&(c=u),null!==(h=p.nextSibling))break;d=(p=d).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:nu(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=tl,tl=!1}(e,n),yl(n,e),hr(to),Vt=!!eo,to=eo=null,e.current=n,gl(n,e,o),Ke(),Nl=l,bt=u,Il.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=o),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=$l,$l=null,e;!!(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,1&a?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Ho()}(e,t,n,r)}finally{Il.transition=o,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Yl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,6&Nl)throw Error(i(331));var o=Nl;for(Nl|=4,Ju=e.current;null!==Ju;){var a=Ju,u=a.child;if(16&Ju.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var s=l[c];for(Ju=s;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var p=f.child;if(null!==p)p.return=f,Ju=p;else for(;null!==Ju;){var d=(f=Ju).sibling,h=f.return;if(il(f),f===s){Ju=null;break}if(null!==d){d.return=h,Ju=d;break}Ju=h}}}var v=a.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=a}}if(2064&a.subtreeFlags&&null!==u)u.return=a,Ju=u;else e:for(;null!==Ju;){if(2048&(a=Ju).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ju=g;break e}Ju=a.return}}var b=e.current;for(Ju=b;null!==Ju;){var w=(u=Ju).child;if(2064&u.subtreeFlags&&null!==w)w.return=u,Ju=w;else e:for(u=b;null!==Ju;){if(2048&(l=Ju).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===u){Ju=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ju=x;break e}Ju=l.return}}if(Nl=o,Ho(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function kc(e,t,n){e=Ui(e,t=du(0,t=cu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ui(t,e=hu(t,e=cu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Ol&n)===n&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Xe()-Bl?pc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(1&e.mode?(t=st,!(130023424&(st<<=1))&&(st=4194304)):t=1);var n=ec();null!==(e=Mi(e,t))&&(mt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function jc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,o,a){var u=2;if(r=e,"function"==typeof e)Lc(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case k:return Mc(n.children,o,a,t);case E:u=8,o|=8;break;case _:return(e=Oc(12,n,t,2|o)).elementType=_,e.lanes=a,e;case j:return(e=Oc(13,n,t,o)).elementType=j,e.lanes=a,e;case P:return(e=Oc(19,n,t,o)).elementType=P,e.lanes=a,e;case T:return Rc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case I:u=9;break e;case N:u=11;break e;case O:u=14;break e;case L:u=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,i,a,u,l){return e=new Dc(e,t,n,u,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Bc(e){if(!e)return No;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(To(n))return Ro(e,n,t)}return t}function qc(e,t,n,r,o,i,a,u,l){return(e=Uc(n,r,!0,e,0,i,0,u,l)).context=Bc(null),n=e.current,(i=Di(r=ec(),o=tc(n))).callback=null!=t?t:null,Ui(n,i,o),e.current.lanes=o,mt(e,o,r),rc(e,r),e}function Hc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,a))&&(nc(e,o,a,i),Bi(e,o,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)bu=!0;else{if(!(e.lanes&n||128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:ju(t),hi();break;case 5:Ji(t);break;case 1:To(t.type)&&Fo(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Io(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Io(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Fu(e,t,n):(Io(ea,1&ea.current),null!==(e=Vu(e,t,n))?e.sibling:null);Io(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return qu(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Vu(e,t,n)}(e,t,n);bu=!!(131072&e.flags)}else bu=!1,ii&&1048576&t.flags&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var o=Lo(t,jo.current);Pi(t,n),o=ya(null,t,r,e,o,n);var a=ma();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(r)?(a=!0,Fo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fi(t),o.updater=ou,t.stateNode=o,o._reactInternals=t,lu(t,r,e,n),t=Nu(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),wu(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Lc(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=nu(r,e),o){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,nu(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Cu(e,t,r,o=t.elementType===r?o:nu(r,o),n);case 1:return r=t.type,o=t.pendingProps,Iu(e,t,r,o=t.elementType===r?o:nu(r,o),n);case 3:e:{if(ju(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,zi(e,t),Hi(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Pu(e,t,r,n,o=cu(Error(i(423)),t));break e}if(r!==o){t=Pu(e,t,r,n,o=cu(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Vu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&si(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,u=o.children,no(r,o)?u=null:null!==a&&no(r,a)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&si(t),null;case 13:return Fu(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xu(e,t,r,o=t.elementType===r?o:nu(r,o),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,Io(ki,r._currentValue),r._currentValue=u,null!==a)if(ur(a.value,u)){if(a.children===o.children&&!Po.current){t=Vu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){u=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Di(-1,n&-n)).tag=2;var s=a.updateQueue;if(null!==s){var f=(s=s.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),s.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ji(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(i(341));u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ji(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}wu(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Oi(o)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return o=nu(r=t.type,t.pendingProps),Su(e,t,r,o=nu(r.type,o),n);case 15:return ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nu(r,o),Hu(e,t),t.tag=1,To(r)?(e=!0,Fo(t)):e=!1,Pi(t,n),au(t,r,o),lu(t,r,o,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var u=o;o=function(){var e=Vc(a);u.call(e)}}Hc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Vc(a);i.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[vo]=a.current,qr(8===e.nodeType?e.parentNode:e),sc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var u=r;r=function(){var e=Vc(l);u.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[vo]=l.current,qr(8===e.nodeType?e.parentNode:e),sc((function(){Hc(t,l,n,r)})),l}(n,t,e,o,r);return Vc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){Hc(null,e,null,null)})),t[vo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),!(6&Nl)&&(ql=Xe()+500,Ho()))}break;case 13:sc((function(){var t=Mi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},St=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Mi(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,je=sc;var es={usingClientEntryPoint:!1,Events:[wo,xo,So,Ce,Ie,cc]},ts={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ns={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{ot=rs.inject(ns),it=rs}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=es,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[vo]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",u=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,o,0,a,u),e[vo]=t.current,qr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(sc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},338:(e,t,n)=>{var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},20:(e,t,n)=>{
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,s=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:s,props:i,_owner:u.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},287:(e,t)=>{
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var o,i={},a=null,u=null;if(null!=t)for(o in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),s=0;s<l;s++)c[s]=arguments[s+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:u,props:i,_owner:k.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,o,i,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var l=!1;if(null===e)l=!0;else switch(u){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+N(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),j(a,t,o,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var s=i+N(u=e[c],c);l+=j(u,t,o,s,a)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),c=0;!(u=e.next()).done;)l+=j(u=u.value,t,o,s=i+N(u,c++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},T={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:T,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var s=0;s<c;s++)l[s]=arguments[s+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:u}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},540:(e,t,n)=>{e.exports=n(287)},848:(e,t,n)=>{e.exports=n(20)},463:(e,t)=>{
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var u=2*(r+1)-1,l=e[u],c=u+1,s=e[c];if(0>i(l,n))c<o&&0>i(s,l)?(e[r]=s,e[c]=n,r=c):(e[r]=l,e[u]=n,r=u);else{if(!(c<o&&0>i(s,n)))break e;e[r]=s,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var c=[],s=[],f=1,p=null,d=3,h=!1,v=!1,y=!1,m="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(s);null!==t;){if(null===t.callback)o(s);else{if(!(t.startTime<=e))break;o(s),t.sortIndex=t.expirationTime,n(c,t)}t=r(s)}}function x(e){if(y=!1,w(e),!v)if(null!==r(c))v=!0,T(S);else{var t=r(s);null!==t&&A(x,t.startTime-e)}}function S(e,n){v=!1,y&&(y=!1,g(C),C=-1),h=!0;var i=d;try{for(w(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!j());){var a=p.callback;if("function"==typeof a){p.callback=null,d=p.priorityLevel;var u=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?p.callback=u:p===r(c)&&o(c),w(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var f=r(s);null!==f&&A(x,f.startTime-n),l=!1}return l}finally{p=null,d=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,_=null,C=-1,I=5,N=-1;function j(){return!(t.unstable_now()-N<I)}function P(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?k():(E=!1,_=null)}}else E=!1}if("function"==typeof b)k=function(){b(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=P,k=function(){L.postMessage(null)}}else k=function(){m(P,0)};function T(e){_=e,E||(E=!0,k())}function A(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,T(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(e.sortIndex=i,n(s,e),null===r(c)&&e===r(s)&&(y?(g(C),C=-1):y=!0,A(x,i-a))):(e.sortIndex=u,n(c,e),v||h||(v=!0,T(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},982:(e,t,n)=>{e.exports=n(463)},635:e=>{e.exports=function(e,t,n){var r=[],o=e.length;if(0===o)return r;var i=t<0?Math.max(0,t+o):t||0;for(void 0!==n&&(o=n<0?n+o:n);o-- >i;)r[o-i]=e[o];return r}},225:(e,t)=>{t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],l=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),s=0,f=l>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[s++]=t>>16&255,c[s++]=t>>8&255,c[s++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[s++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[s++]=t>>8&255,c[s++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,u=0,c=r-o;u<c;u+=a)i.push(l(e,u,u+a>c?c:u+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],u=t;u<r;u+=3)o=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},730:(e,t,n)=>{
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const r=n(225),o=n(632),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=u(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|h(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?u(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return s(e),u(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),n=u(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return r?-1:W(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<u;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>u&&(n=u-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(K(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return Q(W(t,e.length-n),e,n,r)}function S(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return Q(G(t),e,n,r)}function E(e,t,n,r){return Q(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,u,l;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[o+1],r=e[o+2],u=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&u)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&u,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}(e,t,n)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const u=Math.min(i,a),c=this.slice(r,o),s=e.slice(t,n);for(let e=0;e<u;++e)if(c[e]!==s[e]){i=c[e],a=s[e];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function N(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=X[e[r]];return o}function O(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r,o){q(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){q(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){T(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){T(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function U(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function q(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},632:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,l=(1<<u)-1,c=l>>1,s=-7,f=n?o-1:0,p=n?-1:1,d=e[t+f];for(f+=p,i=d&(1<<-s)-1,d>>=-s,s+=u;s>0;i=256*i+e[t+f],f+=p,s-=8);for(a=i&(1<<-s)-1,i>>=-s,s+=r;s>0;a=256*a+e[t+f],f+=p,s-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,u,l,c=8*i-o-1,s=(1<<c)-1,f=s>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=s):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=s?(u=0,a=s):a+f>=1?(u=(t*l-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&u,d+=h,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*v}}},u={};function l(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return a[e](n,n.exports,l),n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c=l(848),s=l(540),f=l(338),p=l(961);const d=(e=>{var t={};return l.d(t,e),t})({getThumbnailUrl:()=>e.getThumbnailUrl,saveCharacterDebounced:()=>e.saveCharacterDebounced});const h=(e=>{var t={};return l.d(t,e),t})({Popper:()=>t.Popper,hljs:()=>t.hljs});const v=(e=>{var t={};return l.d(t,e),t})({default:()=>n.default});const y=(e=>{var t={};return l.d(t,e),t})({Popup:()=>r.Popup,fixToastrForDialogs:()=>r.fixToastrForDialogs});const m=(e=>{var t={};return l.d(t,e),t})({removeFromArray:()=>o.removeFromArray,runAfterAnimation:()=>o.runAfterAnimation});const g=(e=>{var t={};return l.d(t,e),t})({loadWorldInfo:()=>i.loadWorldInfo,setWorldInfoButtonClass:()=>i.setWorldInfoButtonClass,world_names:()=>i.world_names});function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:N(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function x(){}var S={};c(S,a,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(T([])));E&&E!==n&&r.call(E,a)&&(S=E);var _=x.prototype=m.prototype=Object.create(S);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==b(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function N(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=j(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function j(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(b(t)+" is not iterable")}return g.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:g,configurable:!0}),g.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},C(I.prototype),c(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,u,"next",e)}function u(e){E(i,r,o,a,u,"throw",e)}a(void 0)}))}}var C,I,N="0.4.5";function j(e,t){return P.apply(this,arguments)}function P(){return(P=_(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SillyTavern.getContext().SlashCommandParser.commands.echo.callback({severity:t},n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return L.apply(this,arguments)}function L(){return(L=_(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SillyTavern.getContext().SlashCommandParser.commands.go.callback(void 0,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return(A=_(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SillyTavern.getContext().getCharacters();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return g.world_names}function R(e){return F.apply(this,arguments)}function F(){return(F=_(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.loadWorldInfo)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){var n={entries:[],name:e};for(var r in t){var o,i,a,u,l,c,s,f,p,d,h,v,y,m,g,b,w,x,k,E=t[r],_={id:E.uid,keys:E.key,secondary_keys:E.keysecondary,comment:E.comment,content:E.content,constant:E.constant,selective:E.selective,insertion_order:E.order,enabled:!E.disable,position:0==E.position?"before_char":"after_char",use_regex:!0,extensions:S(S({},E.extensions),{},{position:E.position,exclude_recursion:E.excludeRecursion,display_index:E.displayIndex,probability:null!==(o=E.probability)&&void 0!==o?o:null,useProbability:null!==(i=E.useProbability)&&void 0!==i&&i,depth:null!==(a=E.depth)&&void 0!==a?a:4,selectiveLogic:null!==(u=E.selectiveLogic)&&void 0!==u?u:0,group:null!==(l=E.group)&&void 0!==l?l:"",group_override:null!==(c=E.groupOverride)&&void 0!==c&&c,group_weight:null!==(s=E.groupWeight)&&void 0!==s?s:null,prevent_recursion:null!==(f=E.preventRecursion)&&void 0!==f&&f,delay_until_recursion:null!==(p=E.delayUntilRecursion)&&void 0!==p&&p,scan_depth:null!==(d=E.scanDepth)&&void 0!==d?d:null,match_whole_words:null!==(h=E.matchWholeWords)&&void 0!==h?h:null,use_group_scoring:null!==(v=E.useGroupScoring)&&void 0!==v&&v,case_sensitive:null!==(y=E.caseSensitive)&&void 0!==y?y:null,automation_id:null!==(m=E.automationId)&&void 0!==m?m:"",role:null!==(g=E.role)&&void 0!==g?g:0,vectorized:null!==(b=E.vectorized)&&void 0!==b&&b,sticky:null!==(w=E.sticky)&&void 0!==w?w:null,cooldown:null!==(x=E.cooldown)&&void 0!==x?x:null,delay:null!==(k=E.delay)&&void 0!==k?k:null})};n.entries.push(_)}return n}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return SillyTavern.getContext().saveWorldInfo(e,t,n)}function U(){return B.apply(this,arguments)}function B(){return(B=_(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SillyTavern.getContext().updateWorldInfoList();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){(0,g.setWorldInfoButtonClass)(e,t)}function H(e,t){return V.apply(this,arguments)}function V(){return(V=_(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SillyTavern.getContext().Popup.show.confirm(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n){return G.apply(this,arguments)}function G(){return(G=_(w().mark((function e(t,n,r){var o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M().includes(t)||!n){e.next=12;break}if(r){e.next=8;break}return e.next=5,H("Import lorebook named '".concat(t,"'"),"Higly recommended");case 5:if(e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return i=n,o=SillyTavern.getContext().convertCharacterBook(i),D(n.name,o,!0),e.next=12,U();case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}var i}),e)})))).apply(this,arguments)}function Q(){(0,y.fixToastrForDialogs)()}function Y(e,t){(0,m.removeFromArray)(e,t)}function K(){return SillyTavern.getContext().uuidv4()}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function J(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==X(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(X(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Z(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,u,"next",e)}function u(e){Z(i,r,o,a,u,"throw",e)}a(void 0)}))}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.TEXT=1]="TEXT",e[e.CONFIRM=2]="CONFIRM",e[e.INPUT=3]="INPUT",e[e.DISPLAY=4]="DISPLAY"}(C||(C={})),function(e){e[e.AFFIRMATIVE=1]="AFFIRMATIVE",e[e.NEGATIVE=0]="NEGATIVE",e[e.CANCELLED=null]="CANCELLED"}(I||(I={}));var oe=function(e){var t,n,r=e.content,o=e.type,i=e.inputValue,a=void 0===i?"":i,u=e.options,l=void 0===u?{}:u,f=e.onComplete,d=(0,s.useRef)(null),h=(0,s.useRef)(null),g=te((0,s.useState)(!1),2),b=(g[0],g[1]),w=te((0,s.useState)(null),2),x=(w[0],w[1]),S=(0,s.useRef)(K()),k=(0,s.useRef)({id:S.current,type:o,dlg:null,mainInput:null,lastFocus:null,value:void 0,result:void 0,inputResults:void 0});(0,s.useEffect)((function(){var e=d.current;if(e){if(k.current.dlg=e,k.current.mainInput=h.current,y.Popup.util.popups.push(k.current),!e.showModal)e.classList.add("poly_dialog"),v.default.registerDialog(e),new ResizeObserver((function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ne(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;v.default.reposition(r.target)}}catch(e){n.e(e)}finally{n.f()}})).observe(e);return e.showModal(),Q(),function(){Y(y.Popup.util.popups,k.current),Q()}}}),[]);var E,_=function(){var e=ee(J().mark((function e(t){var n,r,i,a,u;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,o===C.INPUT&&(r=t>=I.AFFIRMATIVE?null===(i=h.current)||void 0===i?void 0:i.value:t!==I.NEGATIVE&&(t===I.CANCELLED&&null)),null!==(n=l.customInputs)&&void 0!==n&&n.length&&(a=new Map(l.customInputs.map((function(e){var t,n=null===(t=d.current)||void 0===t?void 0:t.querySelector("#".concat(e.id));return[n.id,n.checked]}))),k.current.inputResults=a),k.current.result=t,k.current.value=r,!l.onClosing){e.next=15;break}return e.next=8,l.onClosing(k.current);case 8:if(e.sent){e.next=15;break}return b(!0),k.current.value=void 0,k.current.result=void 0,k.current.inputResults=void 0,e.abrupt("return");case 15:if(b(!1),y.Popup.util.lastResult={value:r,result:t,inputResults:k.current.inputResults},u=d.current){e.next=20;break}return e.abrupt("return");case 20:u.setAttribute("closing",""),Q(),c=u,s=ee(J().mark((function e(){var t,n,o,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.close(),!l.onClose){e.next=4;break}return e.next=4,l.onClose(k.current);case 4:Y(y.Popup.util.popups,k.current),y.Popup.util.popups.length>0&&(n=null===(t=document.activeElement)||void 0===t?void 0:t.closest(".popup"),o=null==n?void 0:n.getAttribute("data-id"),i=y.Popup.util.popups.find((function(e){return e.id===o})),i&&i.lastFocus&&i.lastFocus.focus()),f(r);case 7:case"end":return e.stop()}}),e)}))),(0,m.runAfterAnimation)(c,s);case 23:case"end":return e.stop()}var c,s}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=ee(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.createPortal)((0,c.jsx)("dialog",{ref:d,className:(E=["popup"],l.wide&&E.push("wide_dialogue_popup"),l.wider&&E.push("wider_dialogue_popup"),l.large&&E.push("large_dialogue_popup"),l.transparent&&E.push("transparent_dialogue_popup"),l.allowHorizontalScrolling&&E.push("horizontal_scrolling_dialogue_popup"),l.allowVerticalScrolling&&E.push("vertical_scrolling_dialogue_popup"),l.animation&&E.push("popup--animation-".concat(l.animation)),E.join(" ")),"data-id":S.current,onKeyDown:N,onFocus:function(e){e.target instanceof HTMLElement&&e.target!==d.current&&(x(e.target),k.current.lastFocus=e.target)},children:(0,c.jsxs)("div",{className:"popup-body",children:[(0,c.jsx)("div",{className:"popup-content",children:r}),o===C.INPUT&&(0,c.jsx)("textarea",{ref:h,className:"popup-input text_pole result-control auto-select",rows:null!==(t=l.rows)&&void 0!==t?t:1,defaultValue:a,"data-result":"1","data-result-event":"submit"}),l.customInputs&&(0,c.jsx)("div",{className:"popup-inputs",children:l.customInputs.map((function(e){return(0,c.jsxs)("label",{className:"checkbox_label justifyCenter",htmlFor:e.id,children:[(0,c.jsx)("input",{type:"checkbox",id:e.id,defaultChecked:e.defaultState}),(0,c.jsx)("span",{"data-i18n":e.label,children:e.label}),e.tooltip&&(0,c.jsx)("div",{className:"fa-solid fa-circle-info opacity50p",title:e.tooltip,"data-i18n":"[title]".concat(e.tooltip)})]},e.id)}))}),o!==C.DISPLAY&&(0,c.jsxs)("div",{className:"popup-controls",children:[null===(n=l.customButtons)||void 0===n?void 0:n.map((function(e,t){var n,r="string"==typeof e?{text:e,result:t+2}:e;return(0,c.jsx)("div",{className:"menu_button popup-button-custom result-control ".concat(null!==(n=r.classes)&&void 0!==n?n:""),"data-result":r.result,onClick:function(){var e,n;null===(e=r.action)||void 0===e||e.call(r),_(null!==(n=r.result)&&void 0!==n?n:t+2)},"data-i18n":r.text,children:r.text},t)})),o!==C.DISPLAY&&!1!==l.okButton&&(0,c.jsx)("div",{className:"popup-button-ok menu_button result-control",onClick:function(){return _(I.AFFIRMATIVE)},"data-result":"1",children:"string"==typeof l.okButton?l.okButton:"OK"}),o!==C.DISPLAY&&!1!==l.cancelButton&&(0,c.jsx)("div",{className:"popup-button-cancel menu_button result-control",onClick:function(){return _(I.NEGATIVE)},"data-result":"0",children:"string"==typeof l.cancelButton?l.cancelButton:"Cancel"})]}),o===C.DISPLAY&&(0,c.jsx)("div",{className:"popup-button-close right_menu_button fa-solid fa-circle-xmark",onClick:function(){return _(I.CANCELLED)},"data-result":"0",title:"Close popup","data-i18n":"[title]Close popup"})]})}),document.body)};function ie(e){return"boolean"==typeof e?e.toString():e}var ae=function(e){var t=e.type,n=e.inputs,r=e.values,o=e.onChange,i=e.isQuestionInput,a=void 0!==i&&i,u=e.questionId;s.useEffect((function(){var e={};n.forEach((function(n){if(a&&u&&null!=r&&r.question){var o=(r.question[u]||{})[n.id];e[n.id]=null!=o?o:ie(n.defaultValue)}else if(null!=r&&r[t]){var i=r[t][n.id];e[n.id]=null!=i?i:ie(n.defaultValue)}else e[n.id]=ie(n.defaultValue)}))}),[n,r,t,a,u]);var l=function(e,t){null==o||o(e,t)};return(0,c.jsx)("div",{className:"script-inputs-container",children:n.map((function(e){var n,o,i,s,f,p,d,h,v,y,m,g="select"===e.type?"Access using: variables.".concat(e.id,".value and variables.").concat(e.id,".label"):"Access using: variables.".concat(e.id);return(0,c.jsxs)("div",{className:"script-input-group",children:[(0,c.jsxs)("label",{htmlFor:"script-input-".concat(e.id,"-").concat(t),title:g,children:[e.id,":"]}),"checkbox"===e.type?(0,c.jsx)("input",{type:"checkbox",className:"text_pole",checked:!!(a&&u?null==r||null===(n=r.question)||void 0===n||null===(n=n[u])||void 0===n?void 0:n[e.id]:null==r||null===(o=r[t])||void 0===o?void 0:o[e.id]),onChange:function(t){return l(e.id,t.target.checked)},title:g}):"select"===e.type?(0,c.jsxs)("select",{className:"text_pole",value:a&&u?null!==(i=null==r||null===(s=r.question)||void 0===s||null===(s=s[u])||void 0===s?void 0:s[e.id])&&void 0!==i?i:"":null!==(f=null==r||null===(p=r[t])||void 0===p?void 0:p[e.id])&&void 0!==f?f:"",onChange:function(t){return l(e.id,t.target.value)},title:g,children:[(0,c.jsx)("option",{value:"",children:"Select an option"}),null===(d=e.selectOptions)||void 0===d?void 0:d.map((function(e){return(0,c.jsx)("option",{value:e.value,children:e.label},e.value)}))]}):(0,c.jsx)("input",{type:"text",className:"text_pole",value:a&&u?null!==(h=null==r||null===(v=r.question)||void 0===v||null===(v=v[u])||void 0===v?void 0:v[e.id])&&void 0!==h?h:"":null!==(y=null==r||null===(m=r[t])||void 0===m?void 0:m[e.id])&&void 0!==y?y:"",onChange:function(t){return l(e.id,t.target.value)},title:g})]},e.id)}))})},ue=function(e){var t=e.value,n=e.onChange,r=e.rows,o=e.placeholder,i=e.language,a=void 0===i?"javascript":i,u=e.isHighlightMode,l=e.onHighlightModeChange;"custom-scenario-script"!==a||h.hljs.getLanguage("custom-scenario-script")||h.hljs.registerLanguage("custom-scenario-script",(function(){return{case_insensitive:!0,contains:[{className:"variable",begin:"{{",end:"}}"}]}}));var f=s.useMemo((function(){return t?h.hljs.highlight(t,{language:a}).value:"<span>".concat(o||"Enter your code here...","</span>")}),[t,a,o]);return(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsx)("button",{onClick:function(){return l(!u)},style:{position:"absolute",top:"4px",right:"calc(8px + var(--scrollbar-width, 12px))",width:"24px",height:"24px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #ddd",borderRadius:"4px",background:"#fff",cursor:"pointer",zIndex:1,opacity:.7,transition:"opacity 0.2s"},title:u?"Switch to Edit mode":"Switch to Highlight mode",children:u?"✏️":"👁️"}),(0,c.jsx)("div",{style:{position:"relative",width:"100%",height:u?"".concat(1.5*r,"em"):"100%",overflow:u?"auto":"hidden"},children:u?(0,c.jsx)("pre",{className:"code-highlight",title:t?o:void 0,children:(0,c.jsx)("code",{dangerouslySetInnerHTML:{__html:f}})}):(0,c.jsx)("textarea",{className:"text_pole textarea_compact",value:t,onChange:function(e){return n(e.target.value)},rows:r,placeholder:o,style:{width:"100%",height:"100%",fontFamily:"monospace",resize:"vertical",paddingRight:"calc(32px + var(--scrollbar-width, 12px))"},title:t?o:void 0})})]})},le=function(e){var t=e.type,n=e.contentLabel,r=e.contentPlaceholder,o=e.content,i=e.onContentChange,a=e.script,u=e.onScriptChange,l=e.previewContent,s=e.onRefreshPreview,f=e.isAccordionOpen,p=void 0!==f&&f,d=e.onAccordionToggle,h=e.scriptInputs,v=e.isContentHighlightMode,y=e.onContentHighlightModeChange,m=e.isScriptHighlightMode,g=e.onScriptHighlightModeChange;return(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTopBot5",children:[(0,c.jsxs)("div",{className:"flex-container flex1 flexFlowColumn",title:n,children:[(0,c.jsx)("label",{children:n}),(0,c.jsx)(ue,{rows:4,placeholder:r,value:o,onChange:i,language:"custom-scenario-script",isHighlightMode:v,onHighlightModeChange:y})]}),(0,c.jsxs)("div",{className:"accordion marginTop10",children:[(0,c.jsxs)("div",{className:"accordion-header",children:[(0,c.jsxs)("button",{className:"menu_button accordion-toggle",onClick:d,children:[(0,c.jsx)("span",{className:"accordion-icon",children:p?"▼":"▶"}),"Script"]}),(0,c.jsx)("button",{className:"menu_button",onClick:s,children:"Refresh Preview"})]}),p&&(0,c.jsxs)("div",{className:"accordion-content",children:[(0,c.jsx)("div",{className:"flex-container flexFlowColumn marginTop10 marginBottom10",children:(0,c.jsx)(ae,{type:t,inputs:h.inputs,values:h.values,onChange:h.onChange})}),(0,c.jsx)(ue,{rows:8,placeholder:"Enter your script here...",value:a,onChange:u,isHighlightMode:m,onHighlightModeChange:g})]})]}),(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsx)("label",{children:"Preview:"}),(0,c.jsx)("textarea",{className:"text_pole",rows:4,readOnly:!0,value:l||"Preview will appear here..."})]})]})};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=["description","first-message","scenario","personality","character-note"],ve="scenario_creator_data";function ye(){return{name:"",description:"",descriptionScript:"",firstMessage:"",firstMessageScript:"",scenario:"",scenarioScript:"",personality:"",personalityScript:"",characterNote:"",characterNoteScript:"",questions:[],layout:[[]],activeTab:"description",scriptInputValues:{question:{},description:{},"first-message":{},scenario:{},personality:{},"character-note":{}},version:N,worldName:void 0}}function me(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ye())}var ge=[{from:"0.2.0",to:"0.2.1",createCallback:function(e){e.hasOwnProperty("personality")||(e.personality=""),e.hasOwnProperty("personalityScript")||(e.personalityScript=""),e.hasOwnProperty("scenario")||(e.scenario=""),e.hasOwnProperty("scenarioScript")||(e.scenarioScript=""),e.hasOwnProperty("characterNote")||(e.characterNote=""),e.hasOwnProperty("characterNoteScript")||(e.characterNoteScript=""),e.version="0.2.1"},exportCallback:function(e){e.hasOwnProperty("scenarioScript")||(e.scenarioScript=""),e.hasOwnProperty("personalityScript")||(e.personalityScript=""),e.hasOwnProperty("characterNoteScript")||(e.characterNoteScript=""),e.version="0.2.1"}},{from:"0.2.1",to:"0.3.0",createCallback:function(e){e.version="0.3.0"},exportCallback:function(e){e.version="0.3.0"}},{from:"0.3.0",to:"0.3.1",createCallback:function(e){e.version="0.3.1"},exportCallback:function(e){e.version="0.3.1"}},{from:"0.3.1",to:"0.3.2",createCallback:function(e){e.version="0.3.2"},exportCallback:function(e){e.version="0.3.2"}},{from:"0.3.2",to:"0.3.3",createCallback:function(e){e.version="0.3.3"},exportCallback:function(e){e.version="0.3.3"}},{from:"0.3.3",to:"0.3.4",createCallback:function(e){e.questions.forEach((function(e){e.showScript||(e.showScript="")})),e.version="0.3.4"},exportCallback:function(e){e.questions.forEach((function(e){e.showScript||(e.showScript="")})),e.version="0.3.4"}},{from:"0.3.4",to:"0.3.5",createCallback:function(e){e.version="0.3.5"},exportCallback:function(e){e.version="0.3.5"}},{from:"0.3.5",to:"0.4.0",createCallback:function(e){e.scriptInputValues||(e.scriptInputValues={question:{},description:{},"first-message":{},scenario:{},personality:{},"character-note":{}}),e.scriptInputValues.question||(e.scriptInputValues.question={}),e.scriptInputValues.description||(e.scriptInputValues.description={}),e.scriptInputValues["first-message"]||(e.scriptInputValues["first-message"]={}),e.scriptInputValues.scenario||(e.scriptInputValues.scenario={}),e.scriptInputValues.personality||(e.scriptInputValues.personality={}),e.version="0.4.0"},exportCallback:function(e){e.version="0.4.0"}},{from:"0.4.0",to:"0.4.1",createCallback:function(e){e.version="0.4.1"},exportCallback:function(e){e.version="0.4.1"}},{from:"0.4.1",to:"0.4.2",createCallback:function(e){e.version="0.4.2"},exportCallback:function(e){e.version="0.4.2"}},{from:"0.4.2",to:"0.4.3",createCallback:function(e){e.hasOwnProperty("name")||(e.name=""),e.version="0.4.3"},exportCallback:function(e){e.version="0.4.3"}},{from:"0.4.3",to:"0.4.4",createCallback:function(e){e.version="0.4.4"},exportCallback:function(e){e.version="0.4.4"}},{from:"0.4.4",to:"0.4.5",createCallback:function(e){e.version="0.4.5"},exportCallback:function(e){e.version="0.4.5"}}];function be(e,t){var n=JSON.parse(JSON.stringify(e));if(!n.version)throw new Error("No version found in data");var r=!1;do{r=!1;var o,i=se(ge);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.from.includes(n.version)){"create"===t?a.createCallback(n):a.exportCallback(n),r=!0;break}}}catch(e){i.e(e)}finally{i.f()}}while(r);if(n.version!==N)throw new Error("Data version ".concat(n.version," is not compatible with extension version ").concat(N));return n}var we=l(730),xe=l(642),Se=l.n(xe),ke=l(29),Ee=l.n(ke),_e=l(960);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){var n,r=Ee()(new Uint8Array(e)),o=je(r.filter((function(e){return"tEXt"===e.name})));try{for(o.s();!(n=o.n()).done;){var i=n.value,a=_e.decode(i.data);"chara"!==a.keyword.toLowerCase()&&"ccv3"!==a.keyword.toLowerCase()||r.splice(r.indexOf(i),1)}}catch(e){o.e(e)}finally{o.f()}var u=we.hp.from(JSON.stringify(t),"utf8").toString("base64");r.splice(-1,0,_e.encode("chara",u));try{var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);l.spec="chara_card_v3",l.spec_version="3.0";var c=we.hp.from(JSON.stringify(l),"utf8").toString("base64");r.splice(-1,0,_e.encode("ccv3",c))}catch(e){}return we.hp.from(Se()(r)).buffer}function Le(e){var t=Ee()(new Uint8Array(e)).filter((function(e){return"tEXt"===e.name})).map((function(e){return _e.decode(e.data)}));if(0===t.length)throw console.error("PNG metadata does not contain any text chunks."),new Error("No PNG metadata.");var n=t.findIndex((function(e){return"ccv3"===e.keyword.toLowerCase()}));if(n>-1){var r=we.hp.from(t[n].text,"base64").toString("utf8");return JSON.parse(r)}var o=t.findIndex((function(e){return"chara"===e.keyword.toLowerCase()}));if(o>-1){var i=we.hp.from(t[o].text,"base64").toString("utf8");return JSON.parse(i)}throw console.error("PNG metadata does not contain any character data."),new Error("No PNG metadata.")}function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ae(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Te(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Te(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Me(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qe(i,r,o,a,u,"next",e)}function u(e){qe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ve(e,t){return $e.apply(this,arguments)}function $e(){return($e=He(Ae().mark((function e(t,n){var r,o,i,a,u,l,c,s,f,p,d,h,v,y,m,g,b,w,x,S,k,E,_,C;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.descriptionScript,o=t.firstMessageScript,i=t.scenarioScript,a=t.personalityScript,u=t.characterNote,l=t.characterNoteScript,c=t.questions,s=t.description,f=t.firstMessage,p=t.scenario,d=t.personality,h=t.version,v=Array.from(n.entries()),m=0,g=v;case 3:if(!(m<g.length)){e.next=11;break}if(b=De(g[m],2),w=b[0],x=b[1],"json_data"!==w||!x){e.next=8;break}return y=JSON.parse(x),e.abrupt("break",11);case 8:m++,e.next=3;break;case 11:if(y||((y={}).name=v.find((function(e){return"ch_name"===De(e,1)[0]}))[1]||"",y.personality=v.find((function(e){return"personality"===De(e,1)[0]}))[1]||"",y.scenario=v.find((function(e){return"scenario"===De(e,1)[0]}))[1]||"",y.mes_example=v.find((function(e){return"mes_example"===De(e,1)[0]}))[1]||"",(S=v.find((function(e){return"avatar"===De(e,1)[0]}))[1])&&"string"==typeof S&&(y.avatar=S),y.chat=v.find((function(e){return"chat"===De(e,1)[0]}))[1]||"",y.talkativeness=v.find((function(e){return"talkativeness"===De(e,1)[0]}))[1]||"0.5",y.fav="true"===v.find((function(e){return"fav"===De(e,1)[0]}))[1]||!1,y.tags=v.find((function(e){return"tags"===De(e,1)[0]}))[1]||[],y.world=v.find((function(e){return"world"===De(e,1)[0]}))[1]||void 0,y.data={},y.data.name=y.name,y.data.personality=y.personality,y.data.scenario=y.scenario,y.data.avatar=y.avatar,y.data.mes_example=y.mes_example,y.data.creator_notes=v.find((function(e){return"creator_notes"===De(e,1)[0]}))[1]||"",y.data.system_prompt=y.system_prompt,y.data.post_history_instructions=y.post_history_instructions,y.data.tags=y.tags,y.data.creator=v.find((function(e){return"creator"===De(e,1)[0]}))[1]||"",y.data.character_version=v.find((function(e){return"character_version"===De(e,1)[0]}))[1]||"",y.data.world=v.find((function(e){return"world"===De(e,1)[0]}))[1]||void 0,(k=JSON.parse(JSON.stringify(SillyTavern.getContext().createCharacterData.extensions))).depth_prompt={prompt:u||"",depth:v.find((function(e){return"depth_prompt_depth"===De(e,1)[0]}))[1]||4,role:v.find((function(e){return"depth_prompt_role"===De(e,1)[0]}))[1]||"system"},k.talkativeness=y.talkativeness,k.fav=y.fav,k.world=y.world,y.data.extensions=k),y.name){e.next=15;break}return j("error","Character name is required."),e.abrupt("return",null);case 15:if(!y.world){e.next=20;break}return e.next=18,R(y.world);case 18:(_=e.sent)&&_.entries&&(E=z(y.world,_.entries));case 20:return C={descriptionScript:r,firstMessageScript:o,scenarioScript:i,personalityScript:a,characterNoteScript:l,questions:c.map((function(e){var t=e.inputId,n=e.text,r=e.script,o=e.type,i=e.defaultValue,a=e.required,u=e.options;return Fe({inputId:t,text:n,script:r||"",type:o,defaultValue:i,required:a,showScript:e.showScript},u&&{options:u})})),layout:t.layout||[Me(c.map((function(e){return e.inputId})))],version:h},e.abrupt("return",{name:y.name,description:s,personality:d,scenario:p,first_mes:f,mes_example:y.mes_example||"",creatorcomment:y.creatorcomment||y.data.creator_notes||"",avatar:y.avatar||"none",chat:y.chat,talkativeness:y.talkativeness||"0.5",fav:y.fav||!1,tags:y.tags&&y.tags.length>0?y.tags.split(",").map((function(e){return e.trim()})):[],spec:y.spec||"chara_card_v3",spec_version:y.spec_version||"3.0",data:{name:y.data.name,description:s,personality:d,scenario:p,first_mes:f,avatar:y.data.avatar,mes_example:y.data.mes_example||"",creator_notes:y.data.creator_notes||y.creatorcomment||"",system_prompt:y.data.system_prompt||"",post_history_instructions:y.data.post_history_instructions||"",tags:y.data.tags&&y.data.tags.length>0?y.data.tags.split(",").map((function(e){return e.trim()})):[],creator:y.data.creator||"",character_version:y.data.character_version||"",alternate_greetings:y.data.alternate_greetings||[],extensions:y.data.extensions||[],group_only_greetings:y.data.group_only_greetings||[],character_book:E},create_date:SillyTavern.getContext().humanizedDateTime(),scenario_creator:C});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t){return Ge.apply(this,arguments)}function Ge(){return Ge=He(Ae().mark((function e(t,n){var r,o,i,a,u,l,c=arguments;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("png"!==(c.length>2&&void 0!==c[2]?c[2]:"json")){e.next=23;break}if(e.prev=2,r=document.querySelector("#avatar_load_preview")){e.next=6;break}throw new Error("Avatar preview element not found.");case 6:if(o=document.createElement("canvas"),i=o.getContext("2d")){e.next=10;break}throw new Error("Failed to get canvas context");case 10:return a=new Image,e.next=13,new Promise((function(e,t){a.onload=function(){o.width=a.width,o.height=a.height,i.drawImage(a,0,0),o.toBlob((function(n){n?n.arrayBuffer().then(e).catch(t):t(new Error("Failed to convert image to PNG"))}),"image/png")},a.onerror=function(){return t(new Error("Failed to load image"))},a.crossOrigin="anonymous",a.src=r.src}));case 13:u=e.sent,l=Oe(u,t),Qe(new Blob([l],{type:"image/png"}),n),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(2),new Error("Failed to process image: ".concat(e.t0.message));case 22:return e.abrupt("return");case 23:Qe(new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n);case 25:case"end":return e.stop()}}),e,null,[[2,19]])}))),Ge.apply(this,arguments)}function Qe(e,t){var n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function Ye(e){localStorage.setItem(ve,JSON.stringify(e))}function Ke(e){return Xe.apply(this,arguments)}function Xe(){return Xe=He(Ae().mark((function e(t){var n,r,o,i,a,u,l,c,s,f,p,d,h,v,y,m,g,b,w,x;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof File&&"image/png"===t.type)){e.next=20;break}return e.prev=1,e.next=4,t.arrayBuffer();case 4:if(f=e.sent,p=Le(f)){e.next=10;break}return e.next=9,j("error","No scenario data found in PNG file.");case 9:return e.abrupt("return",null);case 10:s=p,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,j("error","Failed to read PNG file: ".concat(e.t0.message));case 17:return e.abrupt("return",null);case 18:e.next=21;break;case 20:s=t;case 21:if(s.scenario_creator){e.next=24;break}return e.next=24,j("info","No scenario_creator data found. Creating new empty data.");case 24:if(!(d=s.scenario_creator||me()).version||d.version===N){e.next=28;break}return e.next=28,j("info","Imported data version changed from ".concat(d.version," to ").concat(N));case 28:e.prev=28,d=be(d,"export"),e.next=37;break;case 32:return e.prev=32,e.t1=e.catch(28),e.next=36,j("error",e.t1.message);case 36:return e.abrupt("return",null);case 37:if($("#rm_ch_create_block").is(":visible")&&"createcharacter"===$("#form_create").attr("actiontype")&&(f?(v=new Uint8Array(f),y=btoa(Array.from(v).map((function(e){return String.fromCharCode(e)})).join("")),h="data:image/png;base64,".concat(y)):(g=s.avatar&&"none"!==s.avatar?s.avatar:null===(m=s.data)||void 0===m?void 0:m.avatar)&&"string"==typeof g&&(g.startsWith("data:image/png;base64,")||g.startsWith("data:image/jpeg;base64,")||g.startsWith("https"))&&(h=g),h&&$("#avatar_load_preview").attr("src",h)),!(b=null===(n=s.data.extensions)||void 0===n?void 0:n.world)){e.next=43;break}return $("#character_world").val(b),e.next=43,W(b,s.data.character_book,!0);case 43:return q(void 0,!!b),w=(d.questions||[]).map((function(e){return Fe({},e)})),x=d.layout&&Array.isArray(d.layout)?d.layout:[Me(w.map((function(e){return e.inputId})))],e.abrupt("return",{name:s.name||(null===(r=s.data)||void 0===r?void 0:r.name)||"",description:s.description||(null===(o=s.data)||void 0===o?void 0:o.description)||"",descriptionScript:d.descriptionScript||"",firstMessage:s.first_mes||(null===(i=s.data)||void 0===i?void 0:i.first_mes)||"",firstMessageScript:d.firstMessageScript||"",scenario:s.scenario||(null===(a=s.data)||void 0===a?void 0:a.scenario)||"",scenarioScript:d.scenarioScript||"",personality:s.personality||(null===(u=s.data)||void 0===u?void 0:u.personality)||"",personalityScript:d.personalityScript||"",characterNote:(null===(l=s.data)||void 0===l||null===(l=l.extensions)||void 0===l||null===(l=l.depth_prompt)||void 0===l?void 0:l.prompt)||"",characterNoteScript:d.characterNoteScript||"",questions:w,layout:x,activeTab:"description",scriptInputValues:{question:{},description:{},"first-message":{},scenario:{},personality:{},"character-note":{}},version:d.version,worldName:null===(c=s.data)||void 0===c||null===(c=c.extensions)||void 0===c?void 0:c.world});case 47:case"end":return e.stop()}}),e,null,[[1,13],[28,32]])}))),Xe.apply(this,arguments)}function Je(e){var t,n;"createcharacter"===$("#form_create").attr("actiontype")&&(void 0!==(null===(t=e.data.extensions)||void 0===t?void 0:t.depth_prompt)?($("#depth_prompt_depth").val(e.data.extensions.depth_prompt.depth),$("#depth_prompt_role").val(e.data.extensions.depth_prompt.role||"system")):($("#depth_prompt_depth").val(4),$("#depth_prompt_role").val("system")),$("#character_name_pole").val(e.name||e.data.name||""),$("#creator_textarea").val(e.data.creator||""),$("#creator_notes_textarea").val(e.creatorcomment||e.data.creator_notes||""),$("#tags_textarea").val((e.tags||e.data.tags||[]).join(", ")),$("#character_version_textarea").val(e.data.character_version||""),$("#character_world").val((null===(n=e.data.extensions)||void 0===n?void 0:n.world)||""))}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var it=function(e){e.id;var t=e.type,n=e.onTypeChange,r=e.inputId,o=e.onInputIdChange,i=e.question,a=e.onQuestionChange,u=e.mainScript,l=e.onMainScriptChange,s=e.showScript,f=e.onShowScriptChange,p=e.showPreview,d=e.questionPreview,h=e.isRequired,v=e.onRequiredChange,y=e.options,m=e.onOptionsChange,g=e.defaultValue,b=e.onDefaultValueChange,w=e.isDefaultChecked,x=e.onDefaultCheckedChange,S=e.onRefreshPreview,k=e.isAccordionOpen,E=e.onAccordionToggle,_=e.scriptInputs,C=e.isQuestionHighlightMode,I=e.onQuestionHighlightModeChange,N=e.isMainScriptHighlightMode,j=e.onMainScriptHighlightModeChange,P=e.isShowScriptHighlightMode,O=e.onShowScriptHighlightModeChange,L=function(e,t,n){var r=rt(y);r[e]=tt(tt({},r[e]),{},nt({},t,n)),m(r)};return(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsxs)("div",{className:"flex-container question-header gap10",children:[(0,c.jsxs)("div",{className:"flex1",children:[(0,c.jsx)("label",{children:"Type: "}),(0,c.jsxs)("select",{className:"text_pole input-type-select",value:t,onChange:function(e){return n(e.target.value)},children:[(0,c.jsx)("option",{value:"text",children:"Text"}),(0,c.jsx)("option",{value:"select",children:"Select"}),(0,c.jsx)("option",{value:"checkbox",children:"Checkbox"})]})]}),(0,c.jsxs)("div",{className:"flex2",children:[(0,c.jsx)("label",{children:"ID: "}),(0,c.jsx)("input",{type:"text",className:"text_pole input-id",placeholder:"Enter ID (e.g., character_name)",title:"This ID will be used as {{answer_id}} in templates",value:r,onChange:function(e){return o(e.target.value)}})]})]}),(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsx)("label",{children:"Question:"}),(0,c.jsx)(ue,{rows:2,placeholder:"Enter question",value:i,onChange:a,language:"custom-scenario-script",isHighlightMode:C,onHighlightModeChange:I})]}),(0,c.jsxs)("div",{className:"accordion marginTop10",children:[(0,c.jsxs)("div",{className:"accordion-header",children:[(0,c.jsxs)("button",{className:"menu_button accordion-toggle",onClick:E,children:[(0,c.jsx)("span",{className:"accordion-icon",children:k?"▼":"▶"}),"Script"]}),(0,c.jsx)("button",{className:"menu_button",onClick:S,children:"Refresh Preview"})]}),k&&(0,c.jsxs)("div",{className:"accordion-content",children:[(0,c.jsx)("div",{className:"flex-container flexFlowColumn marginTop10 marginBottom10",children:(0,c.jsx)(ae,{type:"question",isQuestionInput:!0,questionId:r,inputs:_.inputs,values:_.values,onChange:_.onChange})}),(0,c.jsx)(ue,{rows:8,placeholder:"Enter your main script here...",value:u,onChange:l,isHighlightMode:N,onHighlightModeChange:j}),(0,c.jsx)(ue,{rows:4,placeholder:"Enter your show script here...",value:s,onChange:f,isHighlightMode:P,onHighlightModeChange:O}),(0,c.jsx)("label",{children:"Preview: "}),(0,c.jsx)("label",{className:"show-preview",children:p})]})]}),(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsx)("label",{children:"Preview:"}),(0,c.jsx)("textarea",{className:"text_pole",rows:2,readOnly:!0,value:d||"Preview will appear here..."})]}),(0,c.jsx)("div",{className:"flex-container alignItemsCenter marginTop10",children:(0,c.jsxs)("label",{className:"checkbox_label",children:[(0,c.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){return v(e.target.checked)}}),"Required"]})}),"select"===t&&(0,c.jsx)("div",{className:"select-options-container",children:(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsxs)("div",{className:"flex-container justifySpaceBetween alignItemsCenter",children:[(0,c.jsx)("label",{children:"Options:"}),(0,c.jsx)("button",{className:"menu_button add-option-btn",onClick:function(){m([].concat(rt(y),[{value:"",label:""}]))},children:"+ Add Option"})]}),(0,c.jsx)("div",{className:"options-list",children:y.map((function(e,t){return(0,c.jsxs)("div",{className:"flex-container gap10 marginTop5",children:[(0,c.jsx)("input",{type:"text",className:"text_pole flex1",placeholder:"Label",title:"Label of the option. This is what the user will see. Access with variables.".concat(r,".label"),value:e.label,onChange:function(e){return L(t,"label",e.target.value)}}),(0,c.jsx)("input",{type:"text",className:"text_pole flex1",placeholder:"Value",title:"Value of the option. This is what the user will select. Access with variables.".concat(r,".value"),value:e.value,onChange:function(e){return L(t,"value",e.target.value)}})]},t)}))})]})}),(0,c.jsx)("div",{className:"default-value-container",children:(0,c.jsxs)("div",{className:"flex-container flexFlowColumn marginTop10",children:[(0,c.jsx)("label",{children:"Default Value:"}),(0,c.jsxs)("div",{className:"default-value-input-container",children:["text"===t&&(0,c.jsx)("textarea",{className:"text_pole textarea_compact input-default",rows:2,placeholder:"Enter default value",value:g,onChange:function(e){return b(e.target.value)}}),"checkbox"===t&&(0,c.jsxs)("label",{className:"checkbox_label checkbox-default",children:[(0,c.jsx)("input",{type:"checkbox",checked:w,onChange:function(e){return x(e.target.checked)}}),"Checked by default"]}),"select"===t&&(0,c.jsxs)("select",{className:"text_pole select-default",value:g,onChange:function(e){return b(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"Select a default value"}),y.map((function(e,t){return(0,c.jsx)("option",{value:e.value,children:e.label||e.value},t)}))]})]})]})})]})},at=function(e){var t=e.inputId,n=e.onSelect,r=e.onRemove,o=e.className;return(0,c.jsxs)("div",{className:"tab-button-container",children:[(0,c.jsxs)("button",{className:"tab-button menu_button question ".concat(o),onClick:n,children:["Question ",t]}),(0,c.jsx)("button",{className:"remove-input-btn menu_button danger",title:"Remove Question",onClick:r,children:(0,c.jsx)("i",{className:"fa-solid fa-trash"})})]})},ut=function(e){var t=e.page,n=e.onClick,r=e.isActive,o=void 0!==r&&r;return(0,c.jsx)("div",{className:"page-button-container",children:(0,c.jsxs)("button",{className:"page-button menu_button ".concat(o?"active":""),onClick:n,children:["Page ",t]})})};function lt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ct(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ct=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==st(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(st(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ht(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ht(i,r,o,a,u,"next",e)}function u(e){ht(i,r,o,a,u,"throw",e)}a(void 0)}))}}function yt(e,t,n,r){return mt.apply(this,arguments)}function mt(){return mt=vt(ct().mark((function e(t,n,r,o){var i,a,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",n);case 2:return i=JSON.parse(JSON.stringify(n)),a=bt(t,i,r),u=new Function("variables","world","\n        return (async () => {\n            ".concat(a,"\n            return await Promise.resolve(variables);\n        })();\n    ")),e.abrupt("return",u(i,{getAll:function(){var e=vt(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt({name:null!==(n=t.name)&&void 0!==n?n:o,keyword:t.keyword});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFirst:function(){var e=vt(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St({name:null!==(n=t.name)&&void 0!==n?n:o,keyword:t.keyword});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 6:case"end":return e.stop()}}),e)}))),mt.apply(this,arguments)}function gt(e,t,n,r){if(!e)return!0;var o=JSON.parse(JSON.stringify(t)),i=bt(e,o,n);return new Function("variables","\n        ".concat(i,"\n    "))(o)}function bt(e,t,n){for(var r=JSON.parse(JSON.stringify(t)),o=0,i=Object.entries(t);o<i.length;o++){var a=ft(i[o],2),u=a[0],l=a[1];l&&"object"===st(l)&&l.hasOwnProperty("label")&&(r[u]=l.label)}for(var c=e,s=/\{\{([^}]+)\}\}/g,f=0;c.includes("{{")&&f<100;)c=c.replace(s,(function(e,t){var o=r[t];return"string"==typeof o&&(o=o.trim()),"variableName"!==n||null!=o&&""!==o?o?o.toString().includes("{{")?bt(o.toString(),r,n):o:"":e})),f++;return c}function wt(e){return xt.apply(this,arguments)}function xt(){return(xt=vt(ct().mark((function e(t){var n,r,o,i,a,u,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,R(t.name);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:r=[],o=0,i=Object.values(n.entries);case 9:if(!(o<i.length)){e.next=32;break}a=i[o],u=lt(a.key),e.prev=12,u.s();case 14:if((l=u.n()).done){e.next=21;break}if(!l.value.toLowerCase().includes(t.keyword.toLowerCase())){e.next=19;break}return r.push({id:a.uid,keys:a.key,content:a.content}),e.abrupt("break",21);case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:o++,e.next=9;break;case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,null,[[12,23,26,29]])})))).apply(this,arguments)}function St(e){return kt.apply(this,arguments)}function kt(){return(kt=vt(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t);case 2:return r=e.sent,e.abrupt("return",null!==(n=null==r?void 0:r[0])&&void 0!==n?n:null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function _t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=At(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ct(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||At(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */It=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Et(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Et(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ot(i,r,o,a,u,"next",e)}function u(e){Ot(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||At(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Rt=function(){var e,t=(e=localStorage.getItem(ve))?JSON.parse(e):ye();t.version&&t.version!==N&&j("info","Version of cache data changed from ".concat(t.version," to ").concat(N));try{Ye(t=be(t,"create"))}catch(e){j("error","Cache data is not compatible. Removing cache data."),localStorage.removeItem(ve)}var n=Tt(s.useState(t.scriptInputValues),2),r=n[0],o=n[1],i=Tt(s.useState(t.description),2),a=i[0],u=i[1],l=Tt(s.useState(t.descriptionScript),2),f=l[0],p=l[1],d=Tt(s.useState(""),2),v=d[0],y=d[1],m=Tt(s.useState(!1),2),g=m[0],b=m[1],w=Tt(s.useState(!1),2),x=w[0],S=w[1],k=Tt(s.useState(t.firstMessage),2),E=k[0],_=k[1],C=Tt(s.useState(t.firstMessageScript),2),I=C[0],P=C[1],O=Tt(s.useState(""),2),L=O[0],T=O[1],A=Tt(s.useState(!1),2),M=A[0],R=A[1],F=Tt(s.useState(!1),2),z=F[0],D=F[1],U=Tt(s.useState(t.scenario),2),B=U[0],q=U[1],V=Tt(s.useState(t.scenarioScript),2),W=V[0],G=V[1],Q=Tt(s.useState(""),2),Y=Q[0],X=Q[1],J=Tt(s.useState(!1),2),Z=J[0],ee=J[1],te=Tt(s.useState(!1),2),ne=te[0],re=te[1],oe=Tt(s.useState(t.personality),2),ie=oe[0],ae=oe[1],ue=Tt(s.useState(t.personalityScript),2),ce=ue[0],se=ue[1],fe=Tt(s.useState(""),2),pe=fe[0],de=fe[1],me=Tt(s.useState(!1),2),ge=me[0],we=me[1],xe=Tt(s.useState(!1),2),Se=xe[0],ke=xe[1],Ee=Tt(s.useState(t.characterNote),2),_e=Ee[0],Ce=Ee[1],Ie=Tt(s.useState(t.characterNoteScript),2),Ne=Ie[0],je=Ie[1],Pe=Tt(s.useState(""),2),Oe=Pe[0],Te=Pe[1],Ae=Tt(s.useState(!1),2),Me=Ae[0],Re=Ae[1],Fe=Tt(s.useState(!1),2),ze=Fe[0],De=Fe[1],Ue=new Map;t.questions.forEach((function(e){Ue.set(e.inputId,K())}));var Be=Tt(s.useState({description:!0,"first-message":!1,scenario:!1,personality:!1,"character-note":!1}),2),qe=Be[0],He=Be[1],$e=Tt(s.useState({}),2),Ge=$e[0],Qe=$e[1],Xe=Tt(s.useState([]),2),Ze=Xe[0],et=Xe[1];s.useEffect((function(){var e=function(){var e=Lt(It().mark((function e(){var n,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questions.map((function(e){var n,r=t.layout.findIndex((function(t){return t.includes(e.inputId)}))+1,o=Ue.get(e.inputId);return 0!==r&&o?{id:o,inputId:e.inputId,type:e.type,question:e.text,mainScript:e.script,showScript:e.showScript,showPreview:"SHOW",questionPreview:"",isRequired:e.required,options:null!==(n=e.options)&&void 0!==n?n:[],defaultValue:"string"==typeof e.defaultValue?e.defaultValue:"",isDefaultChecked:!0===e.defaultValue,page:r}:null})).filter((function(e){return null!==e})),i=jt({},r),n.forEach((function(e){n.forEach((function(t){e.inputId!==t.inputId&&(i.question[e.inputId]||(i.question[e.inputId]={}),i.question[e.inputId][t.inputId]||(i.question[e.inputId][t.inputId]=t.defaultValue),!i.question[e.inputId][t.inputId]&&"select"===t.type&&t.options&&t.options.length>0&&(i.question[e.inputId][t.inputId]=t.options[0].value))})),he.forEach((function(t){i[t]||(i[t]={}),i[t][e.inputId]||(i[t][e.inputId]=e.defaultValue),!i[t][e.inputId]&&"select"===e.type&&e.options&&e.options.length>0&&(i[t][e.inputId]=e.options[0].value)}))})),Vt(i.description,t.descriptionScript,t.description,y,n),Vt(i["first-message"],t.firstMessageScript,t.firstMessage,T,n),Vt(i.scenario,t.scenarioScript,t.scenario,X,n),Vt(i.personality,t.personalityScript,t.personality,de,n),Vt(i["character-note"],t.characterNoteScript,t.characterNote,Te,n),e.next=10,Promise.all(n.map(function(){var e=Lt(It().mark((function e(t){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jt,e.t1=jt({},t),e.t2={},e.next=5,$t(i.question[t.inputId],t.showScript,n);case 5:return e.t3=e.sent,e.next=8,Vt(i.question[t.inputId],t.mainScript,t.question,void 0,n);case 8:return e.t4=e.sent,e.t5={showPreview:e.t3,questionPreview:e.t4},r=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:n=e.sent,o(i),et(n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var tt=Tt(s.useState(t.activeTab.startsWith("question-")?"question-".concat(Ue.get(t.activeTab.replace("question-",""))):t.activeTab),2),nt=tt[0],rt=tt[1],ot=Tt(s.useState(t.activeTab.startsWith("question-")?t.layout.findIndex((function(e){return e.includes(t.activeTab.replace("question-",""))}))+1:1),2),lt=ot[0],ct=ot[1],st=Tt(s.useState(t.layout.map((function(e,t){return t+1}))),2),ft=st[0],pt=st[1],dt=Tt(s.useState(!1),2),ht=dt[0],vt=dt[1],mt=(0,s.useRef)(null),wt=(0,s.useRef)(null),xt=(0,s.useRef)(null),St=(0,s.useRef)(null),kt=Tt(s.useState(!1),2),Nt=kt[0],Ot=kt[1],At=function(){return $("#character_world").val()||void 0},Mt=function(){var e=Lt(It().mark((function e(t){var n,r,i,a,l,c,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(n=t.target.files)||void 0===n?void 0:n[0]){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,i=function(){var e=Lt(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.layout.map((function(e,t){return t+1})),pt(r),ct(1),i=jt({},n.scriptInputValues),u(n.description),p(n.descriptionScript),_(n.firstMessage),P(n.firstMessageScript),q(n.scenario),G(n.scenarioScript),ae(n.personality),se(n.personalityScript),Ce(n.characterNote),je(n.characterNoteScript),b(!0),S(!0),R(!0),D(!0),ee(!0),re(!0),we(!0),ke(!0),Re(!0),De(!0),(a=n.questions.map((function(e){var t;return{id:K(),inputId:e.inputId,type:e.type,page:n.layout.findIndex((function(t){return t.includes(e.inputId)}))+1,question:e.text,mainScript:e.script,showScript:e.showScript,showPreview:"SHOW",questionPreview:"Preview will appear here...",isRequired:e.required,options:null!==(t=e.options)&&void 0!==t?t:[],defaultValue:"string"==typeof e.defaultValue?e.defaultValue:"",isDefaultChecked:!0===e.defaultValue,questionHighlightMode:!0,mainScriptHighlightMode:!0,showScriptHighlightMode:!0}})).filter((function(e){return null!==e}))).forEach((function(e){a.forEach((function(t){e.inputId!==t.inputId&&(i.question[e.inputId]||(i.question[e.inputId]={}),i.question[e.inputId][t.inputId]||(i.question[e.inputId][t.inputId]=t.defaultValue),!i.question[e.inputId][t.inputId]&&"select"===t.type&&t.options&&t.options.length>0&&(i.question[e.inputId][t.inputId]=t.options[0].value))})),he.forEach((function(t){i[t]||(i[t]={}),i[t][e.inputId]||(i[t][e.inputId]=e.defaultValue),!i[t][e.inputId]&&"select"===e.type&&e.options&&e.options.length>0&&(i[t][e.inputId]=e.options[0].value)}))})),Vt(i.description,n.descriptionScript,n.description,y,a),Vt(i["first-message"],n.firstMessageScript,n.firstMessage,T,a),Vt(i.scenario,n.scenarioScript,n.scenario,X,a),Vt(i.personality,n.personalityScript,n.personality,de,a),Vt(i["character-note"],n.characterNoteScript,n.characterNote,Te,a),e.next=33,Promise.all(a.map(function(){var e=Lt(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jt,e.t1=jt({},t),e.t2={},e.next=5,$t(i.question[t.inputId],t.showScript,a);case 5:return e.t3=e.sent,e.next=8,Vt(i.question[t.inputId],t.mainScript,t.question,void 0,a);case 8:return e.t4=e.sent,e.t5={showPreview:e.t3,questionPreview:e.t4},n=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 33:a=e.sent,o(i),et(a),Je(t);case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),"image/png"!==r.type){e.next=18;break}return e.next=8,r.arrayBuffer();case 8:return a=e.sent,l=Le(a),e.next=12,Ke(r);case 12:if(!(c=e.sent)){e.next=16;break}return e.next=16,i(l,c);case 16:e.next=21;break;case 18:(s=new FileReader).onload=function(){var e=Lt(It().mark((function e(t){var n,r,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.target)&&void 0!==n&&n.result){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r=JSON.parse(t.target.result),e.next=6,Ke(r);case 6:if(!(o=e.sent)){e.next=10;break}return e.next=10,i(r,o);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Import error:",e.t0),j("error","Failed to import scenario data. Please check the file and try again.");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),s.readAsText(r);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),console.error("Import error:",e.t0),j("error","Failed to import scenario data. Please check the file and try again.");case 27:t.target.value="";case 28:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(t){return e.apply(this,arguments)}}(),Rt=function(e){var t;rt(e),Ye(qt({activeTab:e.startsWith("question-")?"question-".concat((null===(t=Ze.find((function(t){return t.id===e.replace("question-","")})))||void 0===t?void 0:t.inputId)||""):e}))},Ft=function(){var e=Lt(It().mark((function e(t){var n,r,o,i,a,u,l,c,s,f,p;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ht){e.next=2;break}return e.abrupt("return");case 2:if(o=ft.indexOf(lt),"left"===t?o>0:o<ft.length-1){e.next=6;break}return e.abrupt("return");case 6:return vt(!0),i="moving-".concat(t),a="left"===t?o-1:o+1,null==(u=document.querySelector("#scenario-create-dialog .page-tab-buttons"))||null===(n=u.children[o])||void 0===n||n.classList.add(i),e.next=13,new Promise((function(e){return setTimeout(e,300)}));case 13:l=Ct(ft),c=[l[a],l[o]],l[o]=c[0],l[a]=c[1],s=l.map((function(e,t){return t+1})),pt(s),f=Object.fromEntries(l.map((function(e,t){return[e,t+1]}))),p=Ze.map((function(e){return jt(jt({},e),{},{page:f[e.page]})})),et(p),ct(f[lt]),null==u||null===(r=u.children[o])||void 0===r||r.classList.remove(i),vt(!1),Ye(qt({questions:p.map(Bt.toScenarioFormat),layout:s.map((function(e){return p.filter((function(t){return t.page===e})).map((function(e){return e.inputId}))}))}));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=function(e){if(nt.startsWith("question-")){var t=nt.replace("question-",""),n=Ze.find((function(e){return e.id===t}));if(n){var r=Ze.filter((function(e){return e.page===n.page})),o=r.findIndex((function(e){return e.id===t}));if("left"===e?o>0:o<r.length-1){var i=Ct(Ze),a=i.find((function(e){return e.id===t})),u="left"===e?r[o-1]:r[o+1];if(a&&u){var l=i.findIndex((function(e){return e.id===u.id}));i[i.findIndex((function(e){return e.id===t}))]=u,i[l]=a,et(i),Dt(i)}}}}},Dt=function(e,t,n){Ye(qt({questions:e.map(Bt.toScenarioFormat),layout:ft.map((function(t){return e.filter((function(e){return e.page===t})).map((function(e){return e.inputId}))})),activeTab:null!=t?t:nt,scriptInputValues:null!=n?n:r}))},Ut=function(){var e=Lt(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("Reset all data?","All tabs will be reset.");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:t=ye(),rt(nt.startsWith("question-")?"description":nt),u(t.description),p(t.descriptionScript),y(""),b(!1),S(!1),_(t.firstMessage),P(t.firstMessageScript),T(""),R(!1),D(!1),q(t.scenario),G(t.scenarioScript),X(""),ee(!1),re(!1),ae(t.personality),se(t.personalityScript),de(""),we(!1),ke(!1),Ce(t.characterNote),je(t.characterNoteScript),Te(""),Re(!1),De(!1),o(t.scriptInputValues),n=t.layout.map((function(e,t){return t+1})),pt(n),ct(1),et([]),Ye(qt({activeTab:nt.startsWith("question-")?"description":nt,description:t.description,descriptionScript:t.descriptionScript,firstMessage:t.firstMessage,firstMessageScript:t.firstMessageScript,scenario:t.scenario,scenarioScript:t.scenarioScript,personality:t.personality,personalityScript:t.personalityScript,characterNote:t.characterNote,characterNoteScript:t.characterNoteScript,questions:[],layout:[[]],scriptInputValues:t.scriptInputValues,version:t.version,worldName:At()}));case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bt={toScriptInput:function(e){return{id:e.inputId,type:e.type,defaultValue:"checkbox"===e.type?e.isDefaultChecked:e.defaultValue,selectOptions:"select"===e.type?e.options:void 0}},toScenarioFormat:function(e){return{inputId:e.inputId,text:e.question,script:e.mainScript,type:e.type,defaultValue:"checkbox"===e.type?e.isDefaultChecked:e.defaultValue,required:e.isRequired,options:e.options,showScript:e.showScript}}},qt=function(e){var n,o=Ze.map(Bt.toScenarioFormat),i=ft.map((function(e){return Ze.filter((function(t){return t.page===e})).map((function(e){return e.inputId}))}));return jt(jt({},{name:$("#character_name_pole").val(),description:a,descriptionScript:f,firstMessage:E,firstMessageScript:I,scenario:B,scenarioScript:W,personality:ie,personalityScript:ce,characterNote:_e,characterNoteScript:Ne,questions:o,layout:i,activeTab:nt.startsWith("question-")?"question-".concat((null===(n=Ze.find((function(e){return e.id===nt.replace("question-","")})))||void 0===n?void 0:n.inputId)||""):nt,scriptInputValues:r,version:t.version,worldName:At()}),e)},Ht=function(e,t){if(!e)return{};for(var n={},r=function(){var e=Tt(i[o],2),r=e[0],a=e[1],u=(null!=t?t:Ze).find((function(e){return e.inputId===r}));if(!u)return 1;if("select"===u.type){var l=u.options.find((function(e){return e.value===a}));l?n[r]={label:l.label,value:a}:a||(n[r]={label:"",value:""})}else n[r]=a},o=0,i=Object.entries(e);o<i.length;o++)r();return n},Vt=function(){var e=Lt(It().mark((function e(t,n,r,o,i){var a,u,l,c,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>5&&void 0!==s[5]&&s[5],u=Ht(t,i),e.prev=2,!n){e.next=9;break}return e.next=6,yt(n,u,"remove",At());case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=u;case 10:return l=e.t0,c=bt(r,l,"variableName"),o&&o(c),e.abrupt("return",c);case 16:if(e.prev=16,e.t1=e.catch(2),console.error("Preview update/script execute error:",e.t1),o&&o("Preview update/script execute error: ".concat(e.t1.message)),!a){e.next=22;break}throw e.t1;case 22:return e.abrupt("return","Preview update/script execute error: ".concat(e.t1.message));case 23:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),$t=function(){var e=Lt(It().mark((function e(t,n,r){var o,i,a,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]&&u[3],i=Ht(t,r),e.prev=2,a=gt(n,i,"remove",At()),e.abrupt("return",a?"SHOW":"HIDE");case 7:if(e.prev=7,e.t0=e.catch(2),console.error("Show script preview update/script execute error:",e.t0),!o){e.next=12;break}throw e.t0;case 12:return e.abrupt("return","Show script preview update/script execute error: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Wt=function(){var e=Lt(It().mark((function e(){var t,n,o,i,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=$("#form_create").get(0),new FormData(n).get("ch_name")||t.push("Character name is required."),e.prev=4,e.next=7,Vt(r.description,f,a,y,void 0,!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),t.push("Description script error: "+e.t0.message);case 12:return e.prev=12,e.next=15,Vt(r["first-message"],I,E,T,void 0,!0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),t.push("First message script error: "+e.t1.message);case 20:return e.prev=20,e.next=23,Vt(r.scenario,W,B,X,void 0,!0);case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(20),t.push("Scenario script error: "+e.t2.message);case 28:return e.prev=28,e.next=31,Vt(r.personality,ce,ie,de,void 0,!0);case 31:e.next=36;break;case 33:e.prev=33,e.t3=e.catch(28),t.push("Personality script error: "+e.t3.message);case 36:return e.prev=36,e.next=39,Vt(r["character-note"],Ne,_e,Te,void 0,!0);case 39:e.next=44;break;case 41:e.prev=41,e.t4=e.catch(36),t.push("Character note script error: "+e.t4.message);case 44:o=_t(Ze),e.prev=45,o.s();case 47:if((i=o.n()).done){e.next=61;break}return u=i.value,e.prev=49,e.next=52,Vt(r.question[u.inputId],u.mainScript,u.question,void 0,void 0,!0);case 52:return e.next=54,$t(r.question[u.inputId],u.showScript,void 0,!0);case 54:e.next=59;break;case 56:e.prev=56,e.t5=e.catch(49),t.push('Question "'.concat(u.inputId,'" script error: ').concat(e.t5.message));case 59:e.next=47;break;case 61:e.next=66;break;case 63:e.prev=63,e.t6=e.catch(45),o.e(e.t6);case 66:return e.prev=66,o.f(),e.finish(66);case 69:return e.abrupt("return",t);case 70:case"end":return e.stop()}}),e,null,[[4,9],[12,17],[20,25],[28,33],[36,41],[45,63,66,69],[49,56]])})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=Lt(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt();case 2:if(!((n=e.sent).length>0)){e.next=6;break}return j("error","Export validation failed:\n"+n.join("\n")),e.abrupt("return");case 6:Ot(!Nt),null===(t=St.current)||void 0===t||t.update();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=Lt(It().mark((function e(t){var n,r,o,i,a,u,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot(!1),null===(n=St.current)||void 0===n||n.update(),e.next=4,Wt();case 4:if(!((o=e.sent).length>0)){e.next=8;break}return j("error","Export validation failed:\n"+o.join("\n")),e.abrupt("return");case 8:return i=$("#form_create").get(0),a=new FormData(i),e.next=12,Ve(qt(),a);case 12:if(u=e.sent){e.next=15;break}return e.abrupt("return");case 15:l=(u.name||(null===(r=u.data)||void 0===r?void 0:r.name)).replace(/[<>:"/\\|?*]/g,"_"),We(u,"".concat(l,".").concat(t),t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.useEffect((function(){if(wt.current&&xt.current){var e,t,n;St.current=(e=wt.current,t=xt.current,n={placement:"left-end"},h.Popper.createPopper(e,t,n));var r=function(e){var t;wt.current&&!wt.current.contains(e.target)&&(Ot(!1),null===(t=St.current)||void 0===t||t.update())};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}}),[]),(0,c.jsxs)("div",{id:"scenario-create-dialog",children:[(0,c.jsx)("h2",{children:"Scenario Creator"}),(0,c.jsxs)("div",{className:"flex-container tab-navigation spaceBetween",children:[(0,c.jsxs)("div",{className:"flex-container",children:[(0,c.jsx)("button",{className:"tab-button menu_button ".concat("description"===nt?"active":""),onClick:function(){return Rt("description")},children:"Description"}),(0,c.jsx)("button",{className:"tab-button menu_button ".concat("first-message"===nt?"active":""),onClick:function(){return Rt("first-message")},children:"First Message"}),(0,c.jsx)("button",{className:"tab-button menu_button ".concat("scenario"===nt?"active":""),onClick:function(){return Rt("scenario")},children:"Scenario"}),(0,c.jsx)("button",{className:"tab-button menu_button ".concat("personality"===nt?"active":""),onClick:function(){return Rt("personality")},children:"Personality"}),(0,c.jsx)("button",{className:"tab-button menu_button ".concat("character-note"===nt?"active":""),onClick:function(){return Rt("character-note")},children:"Character Note"})]}),(0,c.jsxs)("div",{className:"flex-container justifyEnd gap10",children:[(0,c.jsx)("input",{type:"file",accept:".json, .png",style:{display:"none"},ref:mt,onChange:Mt}),(0,c.jsx)("button",{className:"menu_button",onClick:function(){var e;return null===(e=mt.current)||void 0===e?void 0:e.click()},children:"Import"}),(0,c.jsxs)("div",{ref:wt,className:"export-container",style:{position:"relative",paddingTop:"5px",paddingBottom:"5px"},children:[(0,c.jsx)("button",{className:"menu_button",style:{height:"100%",paddingTop:"0px",paddingBottom:"0px",margin:"0"},onClick:Gt,children:"Export"}),(0,c.jsxs)("div",{ref:xt,className:"list-group",style:{display:Nt?"block":"none",position:"absolute",zIndex:9999},children:[(0,c.jsx)("div",{className:"export-format list-group-item",onClick:function(){return Qt("png")},style:{cursor:"pointer"},children:"PNG"}),(0,c.jsx)("div",{className:"export-format list-group-item",onClick:function(){return Qt("json")},style:{cursor:"pointer"},children:"JSON"})]})]}),(0,c.jsx)("button",{className:"menu_button",onClick:Ut,title:"Only resets Scenario Creator fields.",children:"Reset"})]})]}),(0,c.jsx)("div",{className:"flex-container page-navigation",children:(0,c.jsxs)("div",{className:"flex-container",children:[(0,c.jsx)("div",{className:"page-tab-buttons",children:ft.map((function(e){return(0,c.jsx)(ut,{page:e,isActive:lt===e,onClick:function(){return ct(e)}},e)}))}),(0,c.jsxs)("div",{className:"button-group",children:[(0,c.jsx)("button",{className:"menu_button",title:"Move Page Left",onClick:function(){return Ft("left")},children:(0,c.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,c.jsx)("button",{className:"menu_button",title:"Move Page Right",onClick:function(){return Ft("right")},children:(0,c.jsx)("i",{className:"fa-solid fa-arrow-right"})})]}),(0,c.jsxs)("div",{className:"button-group",children:[(0,c.jsxs)("button",{className:"menu_button primary add-question-btn",title:"Add New Question",onClick:function(){for(var e=Ze.map((function(e){return e.inputId})),t=1;e.includes("id_".concat(t));)t++;var n="id_".concat(t),i={id:K(),page:lt,type:"text",inputId:n,question:"",mainScript:"",showScript:"",showPreview:"SHOW",questionPreview:"",isRequired:!0,options:[],defaultValue:"",isDefaultChecked:!1,questionHighlightMode:!1,mainScriptHighlightMode:!1,showScriptHighlightMode:!1},a=[].concat(Ct(Ze),[i]);et(a),rt("question-".concat(i.id));var u=jt({},r);he.forEach((function(e){u[e]||(u[e]={}),u[e][i.inputId]||(u[e][i.inputId]=i.defaultValue),!u[e][i.inputId]&&"select"===i.type&&i.options&&i.options.length>0&&(u[e][i.inputId]=i.options[0].value)})),a.forEach((function(e){e.id!==i.id&&(u.question[e.inputId]||(u.question[e.inputId]={}),u.question[e.inputId][i.inputId]||(u.question[e.inputId][i.inputId]=i.defaultValue),!u.question[e.inputId][i.inputId]&&"select"===i.type&&i.options&&i.options.length>0&&(u.question[e.inputId][i.inputId]=i.options[0].value))})),Ze.forEach((function(e){e.id!==i.id&&(u.question[i.inputId]||(u.question[i.inputId]={}),u.question[i.inputId][e.inputId]||(u.question[i.inputId][e.inputId]=e.defaultValue),!u.question[i.inputId][e.inputId]&&"select"===e.type&&e.options&&e.options.length>0&&(u.question[i.inputId][e.inputId]=e.options[0].value))})),o(u),Dt(a,"question-".concat(i.inputId),u)},children:[(0,c.jsx)("i",{className:"fa-solid fa-plus"})," Question"]}),(0,c.jsxs)("button",{className:"menu_button primary",title:"Add New Page",onClick:function(){var e=Math.max.apply(Math,Ct(ft))+1,t=[].concat(Ct(ft),[e]);pt(t),Ye(qt({layout:t.map((function(e){return Ze.filter((function(t){return t.page===e})).map((function(e){return e.inputId}))}))}))},children:[(0,c.jsx)("i",{className:"fa-solid fa-plus"})," Page"]}),(0,c.jsxs)("button",{className:"menu_button danger",title:"Remove Current Page",onClick:function(){if(ft.length<=1)j("warning","Cannot remove last page.");else if(Ze.filter((function(e){return e.page===lt})).length>0)j("warning","Cannot remove page with questions. Please move questions to another page first.");else{var e=ft[ft.indexOf(lt)-1]||ft[ft.indexOf(lt)+1],t=ft.filter((function(e){return e!==lt})),n=t.map((function(e,t){return t+1})),r=Object.fromEntries(t.map((function(e,t){return[e,t+1]}))),o=Ze.map((function(t){return t.page===lt?jt(jt({},t),{},{page:r[e]}):jt(jt({},t),{},{page:r[t.page]})}));et(o),pt(n),ct(r[e]),Ye(qt({questions:o.map((function(e){return{inputId:e.inputId,text:e.question,script:e.mainScript,type:e.type,defaultValue:"checkbox"===e.type?e.isDefaultChecked:e.defaultValue,required:e.isRequired,options:e.options,showScript:e.showScript}})),layout:n.map((function(e){return o.filter((function(t){return t.page===e})).map((function(e){return e.inputId}))}))}))}},children:[(0,c.jsx)("i",{className:"fa-solid fa-trash"})," Page"]})]})]})}),(0,c.jsx)("div",{className:"questions-container",children:(0,c.jsxs)("div",{className:"flex-container",children:[(0,c.jsx)("div",{className:"questions-tabs",children:Ze.filter((function(e){return e.page===lt})).map((function(e){return(0,c.jsx)(at,{inputId:e.inputId,onSelect:function(){Rt("question-".concat(e.id))},onRemove:function(){var t,n=Ze.filter((function(t){return t.id!==e.id})),i=nt;if(nt==="question-".concat(e.id)){var a=n.filter((function(t){return t.page===e.page}));i=a.length>0?"question-".concat(a[0].id):""}et(n),rt(i);var u=jt({},r);he.forEach((function(t){u[t]||(u[t]={}),delete u[t][e.inputId]})),n.forEach((function(t){t.id!==e.id&&(u.question[t.inputId]||(u.question[t.inputId]={}),delete u.question[t.inputId][e.inputId])})),delete u.question[e.inputId],o(u),Dt(n,i.startsWith("question-")?"question-".concat((null===(t=n.find((function(e){return e.id===i.replace("question-","")})))||void 0===t?void 0:t.inputId)||""):i,u)},className:nt==="question-".concat(e.id)?"active":""},e.id)}))}),nt.startsWith("question-")&&(0,c.jsxs)("div",{className:"button-group",children:[(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)("button",{className:"menu_button",title:"Move Question Left",onClick:function(){return zt("left")},children:(0,c.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,c.jsx)("button",{className:"menu_button",title:"Move Question Right",onClick:function(){return zt("right")},children:(0,c.jsx)("i",{className:"fa-solid fa-arrow-right"})})]}),(0,c.jsx)("div",{children:(0,c.jsxs)("select",{className:"text_pole",title:"Select a page to move question to",onChange:function(e){return function(e){if(nt.startsWith("question-")&&e){var t=nt.replace("question-",""),n=parseInt(e,10),r=Ze.map((function(e){return e.id===t?jt(jt({},e),{},{page:n}):e}));et(r),ct(n),Dt(r)}}(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"Select Page"}),ft.map((function(e){return(0,c.jsxs)("option",{value:e,children:["Page ",e]},e)}))]})})]})]})}),["description","first-message","scenario","personality","character-note"].map((function(e){var t=function(e){return{description:{type:"description",contentLabel:"Character description",contentPlaceholder:"Enter character description",content:a,onContentChange:u,script:f,onScriptChange:p,previewContent:v,setPreviewContent:y,contentHighlightMode:g,onContentHighlightModeChange:b,scriptHighlightMode:x,onScriptHighlightModeChange:S},"first-message":{type:"first-message",contentLabel:"First Message",contentPlaceholder:"Enter first message",content:E,onContentChange:_,script:I,onScriptChange:P,previewContent:L,setPreviewContent:T,contentHighlightMode:M,onContentHighlightModeChange:R,scriptHighlightMode:z,onScriptHighlightModeChange:D},scenario:{type:"scenario",contentLabel:"Scenario",contentPlaceholder:"Enter scenario",content:B,onContentChange:q,script:W,onScriptChange:G,previewContent:Y,setPreviewContent:X,contentHighlightMode:Z,onContentHighlightModeChange:ee,scriptHighlightMode:ne,onScriptHighlightModeChange:re},personality:{type:"personality",contentLabel:"Personality",contentPlaceholder:"Enter personality",content:ie,onContentChange:ae,script:ce,onScriptChange:se,previewContent:pe,setPreviewContent:de,contentHighlightMode:ge,onContentHighlightModeChange:we,scriptHighlightMode:Se,onScriptHighlightModeChange:ke},"character-note":{type:"character-note",contentLabel:"Character Note",contentPlaceholder:"Enter character note",content:_e,onContentChange:Ce,script:Ne,onScriptChange:je,previewContent:Oe,setPreviewContent:Te,contentHighlightMode:Me,onContentHighlightModeChange:Re,scriptHighlightMode:ze,onScriptHighlightModeChange:De}}[e]}(e);return t?nt===e&&(0,c.jsx)(le,{type:t.type,contentLabel:t.contentLabel,contentPlaceholder:t.contentPlaceholder,content:t.content,onContentChange:t.onContentChange,script:t.script,onScriptChange:t.onScriptChange,previewContent:t.previewContent,onRefreshPreview:function(){var n=r[e];"object"!==Et(n)||"question"in n||Vt(n,t.script,t.content,t.setPreviewContent)},isAccordionOpen:qe[e],onAccordionToggle:function(){He((function(t){return jt(jt({},t),{},Pt({},e,!t[e]))}))},scriptInputs:{inputs:Ze.map(Bt.toScriptInput),values:r,onChange:function(t,n){var i=jt(jt({},r),{},Pt({},e,jt(jt({},r[e]),{},Pt({},t,n))));o(i)}},isContentHighlightMode:t.contentHighlightMode,onContentHighlightModeChange:t.onContentHighlightModeChange,isScriptHighlightMode:t.scriptHighlightMode,onScriptHighlightModeChange:t.onScriptHighlightModeChange},e):null})),nt.startsWith("question-")&&(0,c.jsx)("div",{className:"question-editor",children:Ze.map((function(e){var t,n;return"question-".concat(e.id)===nt&&(0,c.jsx)(it,{id:e.id,type:e.type,onTypeChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{type:t}):n})))},inputId:e.inputId,onInputIdChange:function(t){if(t)if(Ze.map((function(e){return e.inputId})).includes(t))j("warning",'Question ID "'.concat(t,'" already exists.'));else if(/^[a-zA-Z_$][a-zA-Z0-9_$]{0,19}$/.test(t)){var n=jt({},r);he.forEach((function(o){n[o]||(n[o]={}),n[o][t]||(n[o][t]=r[o][e.inputId]),delete n[o][e.inputId]})),Ze.forEach((function(o){o.id!==e.id&&(n.question[o.inputId]||(n.question[o.inputId]={}),n.question[o.inputId][t]||(n.question[o.inputId][t]=r.question[o.inputId][e.inputId]),delete n.question[o.inputId][e.inputId])}));var i=Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{inputId:t}):n}));o(n),et(i)}else j("warning",'Question ID "'.concat(t,'" is not valid. Must start with a letter, $ or _, and contain only letters, numbers, $ or _, max 20 characters.'));else j("warning","Question ID cannot be empty.")},question:e.question,onQuestionChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{question:t}):n})))},mainScript:e.mainScript,onMainScriptChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{mainScript:t}):n})))},showScript:e.showScript,onShowScriptChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{showScript:t}):n})))},showPreview:e.showPreview,questionPreview:e.questionPreview,isRequired:e.isRequired,onRequiredChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{isRequired:t}):n})))},options:e.options,onOptionsChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{options:t}):n})))},defaultValue:e.defaultValue,onDefaultValueChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{defaultValue:t}):n})))},isDefaultChecked:e.isDefaultChecked,onDefaultCheckedChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{isDefaultChecked:t}):n})))},isAccordionOpen:null!==(t=Ge[e.id])&&void 0!==t&&t,onAccordionToggle:function(){Qe((function(t){return jt(jt({},t),{},Pt({},e.id,!t[e.id]))}))},onRefreshPreview:(n=Lt(It().mark((function t(){var n,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt(r.question[e.inputId],e.mainScript,e.question);case 2:return n=t.sent,t.next=5,$t(r.question[e.inputId],e.showScript);case 5:o=t.sent,et(Ze.map((function(t){return t.id===e.id?jt(jt({},t),{},{questionPreview:n,showPreview:o}):t})));case 7:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)}),scriptInputs:{inputs:Ze.filter((function(t){return t.inputId!==e.inputId})).map((function(e){return Bt.toScriptInput(e)})),values:r,onChange:function(t,n){var i=jt(jt({},r),{},{question:jt(jt({},r.question),{},Pt({},e.inputId,jt(jt({},r.question[e.inputId]),{},Pt({},t,n))))});o(i)}},isQuestionHighlightMode:e.questionHighlightMode,isMainScriptHighlightMode:e.mainScriptHighlightMode,isShowScriptHighlightMode:e.showScriptHighlightMode,onQuestionHighlightModeChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{questionHighlightMode:t}):n})))},onMainScriptHighlightModeChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{mainScriptHighlightMode:t}):n})))},onShowScriptHighlightModeChange:function(t){et(Ze.map((function(n){return n.id===e.id?jt(jt({},n),{},{showScriptHighlightMode:t}):n})))}},e.id)}))})]})};function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Dt=function(e){var t=Ft((0,s.useState)(!1),2),n=t[0],r=t[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{onClick:function(){r(!0)},className:"menu_button fa-solid fa-puzzle-piece interactable",title:"Setup scenario"}),n&&(0,c.jsx)(oe,{content:(0,c.jsx)(Rt,{}),type:C.DISPLAY,options:{large:!0,wide:!0},onComplete:function(e){r(!1)}})]})};function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ht=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Ut(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ut(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gt(i,r,o,a,u,"next",e)}function u(e){Gt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Jt=(0,s.forwardRef)((function(e,t){var n=e.onClose,r=Yt(s.useState(0),2),o=r[0],i=r[1],a=Yt(s.useState(null),2),u=a[0],l=a[1],f=Yt(s.useState([]),2),p=f[0],h=f[1],v=Yt(s.useState([]),2),y=v[0],m=v[1],g=Yt(s.useState(null),2),b=g[0],w=g[1],x=Yt(s.useState(null),2),S=x[0],k=x[1],E=Yt(s.useState(),2),_=E[0],C=E[1],I=Yt(s.useState({}),2),N=I[0],P=I[1],L=Yt(s.useState({}),2),A=L[0],R=L[1],F=(0,s.useRef)(null),z=function(){var e=Qt(Ht().mark((function e(){var t;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(p.map(function(){var e=Qt(Ht().mark((function e(t){var n,r,o;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=!t.showScript,e.t0){e.next=6;break}return e.next=5,gt(t.showScript,N,"remove");case 5:e.t0=e.sent;case 6:if(n=e.t0,r=t.text,!t.script){e.next=13;break}return e.next=11,yt(t.script,N,"remove",_);case 11:o=e.sent,r=bt(t.text,o,"remove");case 13:return e.abrupt("return",$t($t({},t),{},{showPreview:n?"SHOW":"HIDE",questionPreview:r}));case 16:return e.prev=16,e.t1=e.catch(0),console.error("Preview update error:",e.t1),e.abrupt("return",$t($t({},t),{},{showPreview:"SHOW",questionPreview:"Script error: ".concat(e.t1.message)}));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()));case 4:t=e.sent,h(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){z()}),[N]);var D=function(){var e=Qt(Ht().mark((function e(t){var n,r,o,i,a,u,c,s,f,p,d,v,y,g,b;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=null,"image/png"!==t.type){e.next=15;break}return e.next=5,t.arrayBuffer();case 5:if(o=e.sent,i="png",a=Le(o)){e.next=12;break}return e.next=11,j("error","No scenario data found in PNG file.");case 11:return e.abrupt("return");case 12:r=a,e.next=20;break;case 15:return e.next=17,t.text();case 17:u=e.sent,i="json",r=JSON.parse(u);case 20:if(r.scenario_creator){e.next=24;break}return e.next=23,j("warning","This scenario does not have a creator section");case 23:return e.abrupt("return");case 24:c=[],s=r.scenario_creator.layout||[qt(r.scenario_creator.questions.map((function(e){return e.inputId})))],f=Bt(s),e.prev=27,f.s();case 29:if((p=f.n()).done){e.next=49;break}d=p.value,v=Bt(d),e.prev=32,g=Ht().mark((function e(){var t,n;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y.value,(n=r.scenario_creator.questions.find((function(e){return e.inputId===t})))&&c.push($t($t({},n),{},{showPreview:"SHOW",questionPreview:n.text}));case 3:case"end":return e.stop()}}),e)})),v.s();case 35:if((y=v.n()).done){e.next=39;break}return e.delegateYield(g(),"t0",37);case 37:e.next=35;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(32),v.e(e.t1);case 44:return e.prev=44,v.f(),e.finish(44);case 47:e.next=29;break;case 49:e.next=54;break;case 51:e.prev=51,e.t2=e.catch(27),f.e(e.t2);case 54:return e.prev=54,f.f(),e.finish(54);case 57:b={},c.forEach((function(e){var t;if("select"===e.type&&null!==(t=e.options)&&void 0!==t&&t.length){var n,r=(null===(n=e.options)||void 0===n?void 0:n.find((function(t){return t.value===e.defaultValue})))||e.options[0];b[e.inputId]={label:r.label,value:r.value}}else"checkbox"===e.type?b[e.inputId]=!0===e.defaultValue:b[e.inputId]=e.defaultValue||""})),l(r),h(c),m(s),w(o),k(i),C(null===(n=r.data.extensions)||void 0===n?void 0:n.world),P(b),R({}),e.next=74;break;case 69:return e.prev=69,e.t3=e.catch(0),console.error("Import error:",e.t3),e.next=74,j("error","Error importing scenario: "+e.t3.message);case 74:case"end":return e.stop()}}),e,null,[[0,69],[27,51,54,57],[32,41,44,47]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t){P((function(n){return $t($t({},n),{},Wt({},e,t))})),A[e]&&R((function(t){var n=$t({},t);return delete n[e],n}))},B=function(e){var t=p.filter((function(t){return y[e].includes(t.inputId)&&"SHOW"===t.showPreview})),n={},r=!1;return t.forEach((function(e){if(e.required){var t=N[e.inputId];(void 0===t||""===t||"object"===Ut(t)&&""===t.value)&&(n[e.inputId]="This field is required",r=!0)}})),R(n),!r},H=function(e){if("next"!==e||B(o)){var t="next"===e?o+1:o-1;t>=0&&t<y.length&&i(t)}},V=function(){var e=Qt(Ht().mark((function e(){var t,r,i,a,l,c,s,f,p,h,v,m,g,w,x,k,E,C,I,P,L,A,R,F,z,D,U,H,V,G,Q,Y,K;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&B(o)){e.next=2;break}return e.abrupt("return");case 2:if(!(o<y.length-1)){e.next=6;break}return e.next=5,j("warning","Please go to the last page before playing");case 5:return e.abrupt("return");case 6:if(e.prev=6,!_){e.next=10;break}return e.next=10,W(_,u.data.character_book,!1);case 10:if(c=u.scenario_creator||{},s=c.descriptionScript,f=c.firstMessageScript,p=c.scenarioScript,h=c.personalityScript,v=c.characterNoteScript,!s){e.next=17;break}return e.next=14,yt(s,N,"remove",_);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=N;case 18:if(m=e.t0,g=bt(u.description||(null===(t=u.data)||void 0===t?void 0:t.description),m,"remove"),!f){e.next=26;break}return e.next=23,yt(f,N,"remove",_);case 23:e.t1=e.sent,e.next=27;break;case 26:e.t1=N;case 27:if(w=e.t1,x=bt(u.first_mes||(null===(r=u.data)||void 0===r?void 0:r.first_mes),w,"remove"),!p){e.next=35;break}return e.next=32,yt(p,N,"remove",_);case 32:e.t2=e.sent,e.next=36;break;case 35:e.t2=N;case 36:if(k=e.t2,E=bt(u.scenario||(null===(i=u.data)||void 0===i?void 0:i.scenario),k,"remove"),!h){e.next=44;break}return e.next=41,yt(h,N,"remove",_);case 41:e.t3=e.sent,e.next=45;break;case 44:e.t3=N;case 45:if(C=e.t3,I=bt(u.personality||(null===(a=u.data)||void 0===a?void 0:a.personality),C,"remove"),u.description=g,u.first_mes=x,u.data.description=g,u.data.first_mes=x,u.scenario=E,u.data.scenario=E,u.personality=I,u.data.personality=I,null===(l=u.data.extensions)||void 0===l||!l.depth_prompt){e.next=65;break}if(!v){e.next=62;break}return e.next=59,yt(v,N,"remove",_);case 59:e.t4=e.sent,e.next=63;break;case 62:e.t4=N;case 63:P=e.t4,u.data.extensions.depth_prompt.prompt=bt(u.data.extensions.depth_prompt.prompt,P,"remove");case 65:return L=new FormData,"png"===S&&b?(A=Oe(b,u),R=new Blob([A],{type:"image/png"}),L.append("avatar",R,"scenario.png"),L.append("file_type","png")):(L.append("avatar",new Blob([JSON.stringify(u)],{type:"application/json"}),"scenario.json"),L.append("file_type","json")),delete(F=SillyTavern.getContext().getRequestHeaders())["Content-Type"],e.next=71,fetch("/api/characters/import",{method:"POST",headers:F,body:L,cache:"no-cache"});case 71:if((z=e.sent).ok){e.next=74;break}throw new Error("Failed to import character");case 74:return e.next=76,z.json();case 76:if(D=e.sent,U=D.file_name){e.next=80;break}throw new Error("No file name received");case 80:return e.next=82,T();case 82:return e.next=84,O("".concat(U,".png"));case 84:return X="avatar",J="".concat(U,".png"),H=(0,d.getThumbnailUrl)(X,J),e.next=87,fetch(H,{method:"GET",cache:"no-cache",headers:{pragma:"no-cache","cache-control":"no-cache"}});case 87:H+="&scenarioTime=".concat(Date.now()),$("#avatar_load_preview").attr("src",H),$(".mes").each((function(){var e=$(this).attr("ch_name")===u.name;!e&&"true"===$(this).attr("is_system")||"true"===$(this).attr("is_user")||e&&$(this).find(".avatar img").attr("src",H)})),(V=$("#set_character_world").data("chid"))&&(Q=SillyTavern.getContext().characters,Y=null===(G=Q[V])||void 0===G||null===(G=G.data)||void 0===G||null===(G=G.extensions)||void 0===G?void 0:G.world,K=M(),Y&&K.includes(Y)&&($("#character_world").val(Y),(0,d.saveCharacterDebounced)(),q(V,!0))),n(),e.next=99;break;case 95:e.prev=95,e.t5=e.catch(6),console.error("Error processing scenario:",e.t5),j("error","Error processing scenario: ".concat(e.t5.message));case 99:case"end":return e.stop()}var X,J}),e,null,[[6,95]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useImperativeHandle)(t,(function(){return{validateAndPlay:(e=Qt(Ht().mark((function e(){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=4;break}return e.next=3,j("error","Please select a scenario file first.");case 3:case 9:return e.abrupt("return",!1);case 4:if(B(o)){e.next=6;break}return e.abrupt("return",!1);case 6:if(!(o<y.length-1)){e.next=10;break}return e.next=9,j("warning","Please go to the last page before playing");case 10:return e.prev=10,e.next=13,V();case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[10,16]])}))),function(){return e.apply(this,arguments)}),fileInputRef:F,handleFileSelect:D};var e}),[u,o,y.length,B,V]),u?(0,c.jsxs)("div",{id:"scenario-play-dialog",children:[(0,c.jsx)("h2",{children:"Scenario Player"}),(0,c.jsx)("form",{id:"dynamic-inputs-container",className:"flex-container flexFlowColumn marginTop10",children:p.filter((function(e){return y[o].includes(e.inputId)})).map((function(e){var t,n;return"SHOW"===e.showPreview&&(0,c.jsx)("fieldset",{className:"dynamic-input-group marginTop10",children:(0,c.jsxs)("div",{className:"flex-container flexFlowColumn",children:[(0,c.jsxs)("pre",{className:"input-question",style:{whiteSpace:"pre-wrap"},title:"{{"+e.inputId+"}}",children:[e.questionPreview,e.required?" *":""]}),(0,c.jsx)("div",{className:"input-container",children:"checkbox"===e.type?(0,c.jsx)("label",{className:"checkbox_label",children:(0,c.jsx)("input",{type:"checkbox",className:"dynamic-input",checked:N[e.inputId],onChange:function(t){return U(e.inputId,t.target.checked)}})}):"select"===e.type?(0,c.jsx)("select",{className:"text_pole dynamic-input",value:(null===(t=N[e.inputId])||void 0===t?void 0:t.value)||"",onChange:function(t){var n,r=null===(n=e.options)||void 0===n?void 0:n.find((function(e){return e.value===t.target.value}));r&&U(e.inputId,{label:r.label,value:r.value})},children:null===(n=e.options)||void 0===n?void 0:n.map((function(e,t){return(0,c.jsx)("option",{value:e.value,children:e.label},t)}))}):(0,c.jsx)("input",{type:"text",className:"text_pole dynamic-input",placeholder:e.required?"Required":"Enter your answer",value:N[e.inputId],onChange:function(t){return U(e.inputId,t.target.value)}})}),A[e.inputId]&&(0,c.jsx)("span",{className:"validation-error",style:{color:"red"},children:A[e.inputId]})]})},e.inputId)}))}),(0,c.jsxs)("div",{className:"flex-container justifySpaceBetween marginTop10",children:[(0,c.jsx)("button",{className:"menu_button",style:{visibility:o>0?"visible":"hidden"},onClick:function(){return H("prev")},children:"Previous"}),(0,c.jsxs)("div",{id:"page-indicator",children:["Page ",o+1," of ",y.length]}),o<y.length-1?(0,c.jsx)("button",{className:"menu_button",onClick:function(){return H("next")},children:"Next"}):(0,c.jsx)("button",{className:"menu_button",onClick:V,children:"Play"})]})]}):(0,c.jsxs)("div",{id:"scenario-play-dialog",children:[(0,c.jsx)("h2",{children:"Scenario Player"}),(0,c.jsx)("div",{className:"flex-container justifyCenter marginTop10"})]})}));function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function en(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */en=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new P(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==Zt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Zt(t)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function tn(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tn(i,r,o,a,u,"next",e)}function u(e){tn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const an=function(e){var t,n=rn((0,s.useState)(!1),2),r=n[0],o=n[1],i=(0,s.useRef)(null),a=rn((0,s.useState)(null),2),u=a[0],l=a[1];return(0,s.useEffect)((function(){var e;u&&r&&(null===(e=i.current)||void 0===e||e.handleFileSelect(u))}),[u,r]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"menu_button fa-solid fa-play interactable",onClick:function(){var e=document.createElement("input");e.type="file",e.accept=".json, .png",e.style.display="none",e.addEventListener("change",function(){var t=nn(en().mark((function t(n){var r,i;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=null===(r=n.target.files)||void 0===r?void 0:r[0])&&(o(!0),l(i)),e.remove();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.body.appendChild(e),e.click()},title:"Play scenario"}),r&&(0,c.jsx)(oe,{content:(0,c.jsx)(Jt,{ref:i,onClose:function(){return o(!1)}}),type:C.TEXT,options:{okButton:!0,cancelButton:!0,wider:!0,onClosing:(t=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.result||!i.current){e.next=5;break}return e.next=3,i.current.validateAndPlay();case 3:return n=e.sent,e.abrupt("return",n);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},onComplete:function(){return o(!1)}})]})};var un=$(".form_create_bottom_buttons_block");if(!un||0===un.length)throw new Error("Could not find root container element 'extensions_settings'");var ln=document.createElement("div");un.prepend(ln),f.createRoot(ln).render((0,c.jsx)(s.StrictMode,{children:(0,c.jsx)(Dt,{})}));var cn,sn=null!==(cn=document.querySelector("#rm_buttons_container"))&&void 0!==cn?cn:document.querySelector("#form_character_search_form");if(!sn)throw new Error("Could not find root container elements 'rm_buttons_container'/'form_character_search_form'");var fn=document.createElement("div");$(sn).prepend(fn),f.createRoot(fn).render((0,c.jsx)(s.StrictMode,{children:(0,c.jsx)(an,{})}));